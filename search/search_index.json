{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"PhD Thesis","text":""},{"location":"#exploration-and-application-of-choreography-principles-in-industrial-automation","title":"Exploration and Application of Choreography Principles in Industrial Automation","text":"<p>Welcome to the additional appendix and example code for my submitted PhD thesis \"Exploration and Application of Choreography Principles in Industrial Automation\" at the Helmut Schmidt University / University of the German Federal Armed Forces Hamburg.  </p> <p>My name is Andreas Stutz and I am a researcher and innovator for software-defined plant automation at Siemens Process Automation. With creativity and initiative, I shape the transformation while bringing people and technologies together.</p> <p>Feel free to contact me for feedback, comments or questions regarding my research work: - LinkedIn - ResearchGate</p>"},{"location":"#motivational-citation","title":"Motivational Citation","text":"<p>Ideas in and of themselves have very little value. The value of an invention lies in its practical implementation. --- Werner von Siemens to his brother Carl, January 27, 1865  </p>"},{"location":"#abstract","title":"Abstract","text":"<p>This dissertation examines the application of choreography principles in industrial automation to increase the flexibility, adaptability, and reusability of modular production systems.</p> <p>The starting point is the observation that the Process Orchestration Layer is increasingly reaching its limits. Engineering efforts are rising and latency times in cross-module information processing are reaching critical levels.</p> <p>Following a design science research process, requirements are systematically derived from practical application scenarios. These are incorporated into a framework for implementing automation service choreographies. The framework includes architecture and design patterns for the distributed, configurable interaction of automation services. Standards such as OPC UA and the MTP concept are used to ensure manufacturer neutrality.</p> <p>The developed artifacts are aimed for system and software architects as well as PLC programmers. They support the planning and implementation of modular production systems with automation service choreographies and help to close the gap between theory and practice.</p> <p>Its practical suitability has been proven through implementations on established control platforms (SIMATIC TIA Portal, TwinCAT 3) and through industrial experiments with partners Merck, BASF, and Siemens. Engineering efforts can be significantly reduced by shifting tasks to the module level. Direct communication between controllers enables minimal latency times.</p> <p>In summary, this work makes a well-founded and practical contribution to the further development of modular production systems with the aim of further increasing flexibility, adaptability, and reusability.  </p>"},{"location":"#keywords","title":"Keywords","text":"<ul> <li>Automation Service Choreography  </li> <li>Modular Production Systems  </li> <li>Configurable IEC61131 Control Software  </li> </ul>"},{"location":"license/","title":"License","text":""},{"location":"license/#mit-license","title":"MIT License","text":"<p>Copyright (c) 2025 Andreas Stutz</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this repository and associated documentation files (the \"Repository\"), to deal in the Repository without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Repository, and to permit persons to whom the Repository is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Repository.</p> <p>THE REPOSITORY IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE REPOSITORY OR THE USE OR OTHER DEALINGS IN THE REPOSITORY.</p>"},{"location":"references/","title":"References","text":""},{"location":"references/#bibliography","title":"Bibliography","text":"<p>This document contains all literature references used in the dissertation. The references are sorted alphabetically by their shorthand identifiers.</p>"},{"location":"references/#student-works","title":"Student Works","text":""},{"location":"references/#kem22","title":"Kem22","text":"<p>Kempin, Christoph Tim (2022). Conception and Evaluation of a Configuration Workflow for Automation Service Choreographies. Master's thesis, University of Applied Science Darmstadt, Electrical Engineering and Information Technology, Darmstadt.</p>"},{"location":"references/#ort21","title":"Ort21","text":"<p>Ortmann, Moritz (2021). Entwicklung und Evaluation eines An- und Abfahrmechanismus f\u00fcr modulare produktionsnahe Logistiklinien auf Basis von Service-Choreografien. Bachelor's thesis, Helmut-Schmidt-Universit\u00e4t, Institut f\u00fcr Automatisierungstechnik, Hamburg.</p>"},{"location":"references/#spa19","title":"Spa19","text":"<p>Spaethe, Fabian (2019). Konzeptionierung eines Plug and Play Mechanismuses f\u00fcr die Zero Engineering Integration von Modulen. Master's thesis, University of Applied Science Karlsruhe, Elektro- und Informationstechnik, Karlsruhe.</p>"},{"location":"references/#wun20","title":"W\u00fcn20","text":"<p>W\u00fcnstel, Alexander (2020). Bachelor-Thesis - Konzeption und konzeptioneller Beweis f\u00fcr die Flexibilisierung modul\u00fcbergreifender Verriegelungen in modularen Anlagen. Bachelor's thesis, University of Applied Science Karlsruhe, Elektro- und Informationstechnik, Karlsruhe.</p>"},{"location":"references/#scientific-publications","title":"Scientific Publications","text":""},{"location":"references/#agz22","title":"AGZ22","text":"<p>Ashiwal, Virendra; Gutierrez, Antonio M.; Zoitl, Alois (2022). Implementing a PLC-Service bus with IEC 61499. In: 2022 IEEE 5th International Conference on Industrial Cyber-Physical Systems (ICPS). IEEE. ISBN: 978-1-6654-9770-1. DOI: 10.1109/ICPS51978.2022.9816929</p>"},{"location":"references/#asz12","title":"ASZ+12","text":"<p>Andren, Filip; Strasser, Thomas; Zoitl, Alois; Hegny, Ingo (2012). A reconfigurable communication gateway for distributed embedded control systems. In: IECON 2012 - 38th Annual Conference on IEEE Industrial Electronics Society. IEEE. ISBN: 978-1-4673-2421-2. DOI: 10.1109/IECON.2012.6389299</p>"},{"location":"references/#aszo21","title":"AsZo21","text":"<p>Ashiwal, Virendra; Zoitl, Alois (2021). Messaging Interaction Patterns for a Service Bus Concept of PLC-Software. In: 2021 26th IEEE International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-7281-2989-1. DOI: 10.1109/ETFA45728.2021.9613638</p>"},{"location":"references/#azk20","title":"AZK20","text":"<p>Ashiwal, Virendra; Zoitl, Alois; Konnerth, Matthias (2020). A Service Bus Concept for Modular and Adaptable PLC-Software. In: 2020 25th IEEE International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-7281-8956-7. DOI: 10.1109/ETFA46521.2020.9211908</p>"},{"location":"references/#bar16","title":"Bar16","text":"<p>Barth, Mike (2016). Modularisierung am Beispiel einer verfahrenstechnischen Modellanlage. In: Tagungsband AALE 2016 : Automatisierung im Fokus von Industrie 4.0 : 13. Fachkonferenz, L\u00fcbeck. Deutscher Industrieverlag GmbH (DIV). ISBN: 978-3-8356-7312-0.</p>"},{"location":"references/#bbc09","title":"BBC09","text":"<p>Brusaferri, Alessandro; Ballarino, Andrea; Carpanzano, Emanuele (2009). Enabling agile manufacturing through reconfigurable control solutions. In: 2009 IEEE Conference on Emerging Technologies &amp; Factory Automation. IEEE. ISBN: 978-1-4244-2727-7. DOI: 10.1109/ETFA.2009.5347131</p>"},{"location":"references/#bfh16","title":"BFH16","text":"<p>Bloch, Henry; Fay, Alexander; Hoernicke, Mario (2016). Analysis of service-oriented architecture approaches suitable for modular process automation. In: 2016 IEEE 21st International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-5090-1314-2. DOI: 10.1109/ETFA.2016.7733651</p>"},{"location":"references/#bfk17","title":"BFK+17","text":"<p>Bloch, Henry; Fay, Alexander; Knohl, Torsten; Hoernicke, Mario; Bernshausen, Jens; Hensel, Stephan; Hahn, Anna; Urbas, Leon (2017). A microservice-based architecture approach for the automation of modular process plants. In: 2017 22nd IEEE International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-5090-6505-9. DOI: 10.1109/ETFA.2017.8247573</p>"},{"location":"references/#bfw24","title":"BFW+24","text":"<p>Blumenstein, Michelle; Fay, Alexander; Weigel, Oliver; Strusch, J\u00fcrgen (2024). Integrations- und Betriebskonzepte f\u00fcr modulare produktionsnahe Logistiksysteme. atp magazin, 66(1-2). ISSN: 2190-4111. DOI: 10.17560/atp.v66i1-2.2711</p>"},{"location":"references/#bgf18","title":"BGF+18","text":"<p>Bloch, Henry; Grebner, Tobias; Fay, Alexander; Hensel, Stephan; Menschner, Anna; Urbas, Leon; Hoernicke, Mario; Knohl, Torsten; Bernshausen, Jens; Ag, Bayer (2018). Orchestration of Services in Modular Process Plants. In: IECON 2018 - 44th Annual Conference of the IEEE Industrial Electronics Society. IEEE. ISBN: 978-1-5090-6684-1. DOI: 10.1109/IECON.2018.8591300</p>"},{"location":"references/#bhh18","title":"BHH+18","text":"<p>Bloch, Henry; Hensel, Stephan; Hoernicke, Mario; Stark, Katharina; Menschner, Anna; Fay, Alexander; Urbas, Leon; Knohl, Torsten; Bernshausen, Jens (2018). State-based control of process services within modular process plants. Procedia CIRP, 72. ISSN: 22128271. DOI: 10.1016/j.procir.2018.03.037</p>"},{"location":"references/#blo24","title":"Blo24","text":"<p>Bloch, Henry (2024). Dissertation - Verifikationsmethode f\u00fcr Dienstorchestrierungen modularer verfahrenstechnischer Anlagen mittels Petri-Netzen unter vorherrschenden Dienst- und Prozesswertabh\u00e4ngigkeiten. Hamburg: Universit\u00e4tsbibliothek der HSU / UniBwH. Helmut-Schmidt-Universit\u00e4t. DOI: 10.24405/16672</p>"},{"location":"references/#bmr96","title":"BMR+96","text":"<p>Buschmann, Frank; Meunier, Regine; Rohnert, Hans; Sommerlad, Peter; Stal, Michael (1996). Pattern-oriented software architecture. Volume 1, a system of patterns. Chichester and Ann Arbor: John Wiley &amp; Sons and ProQuest eBook Central. ISBN: 978-0471958697. URL: https://permalink.obvsg.at/AC14510282</p>"},{"location":"references/#cbf20","title":"CBF+20","text":"<p>Cordes, Sophia; Busert, Timo; Fay, Alexander; Kessler, Stephan; Schick, Annette (2020). NAMUR-MTP f\u00fcr Plug-&amp;-Operate in produktionsnaher Logistik. atp magazin, 62(1-2). ISSN: 2190-4111. DOI: 10.17560/atp.v62i1-2.2465</p>"},{"location":"references/#cml12","title":"CML+12","text":"<p>Colombo, Armando W.; Mendes, J. Marco; Leitao, Paulo; Karnouskos, Stamatis (2012). Service-oriented SCADA and MES supporting Petri nets based orchestrated automation systems. In: IECON 2012 - 38th Annual Conference on IEEE Industrial Electronics Society, pp. 6144-6150. IEEE. ISBN: 978-1-4673-2421-2. DOI: 10.1109/IECON.2012.6389076</p>"},{"location":"references/#dkh18","title":"DKH+18","text":"<p>Drahos, Peter; Kucera, Erik; Haffner, Oto; Klimo, Ivan (2018). Trends in industrial communication and OPC UA. In: 2018 Cybernetics &amp; Informatics (K&amp;I). IEEE. ISBN: 978-1-5386-4419-5. DOI: 10.1109/CYBERI.2018.8337560</p>"},{"location":"references/#dla15","title":"DLA15","text":"<p>Dresch, Aline; Lacerda, Daniel Pacheco; Antunes Jr, Jos\u00e9 Ant\u00f4nio Valle (2015). Design Science Research. Cham: Springer International Publishing. ISBN: 978-3-319-07373-6. DOI: 10.1007/978-3-319-07374-3</p>"},{"location":"references/#dowe19","title":"DoWe19","text":"<p>Dorofeev, Kirill; Wenger, Monika (2019). Evaluating Skill-Based Control Architecture for Flexible Automation Systems. In: 2019 24th IEEE International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-7281-0303-7. DOI: 10.1109/ETFA.2019.8869050</p>"},{"location":"references/#eck15","title":"Eck15","text":"<p>Eckert, Karin (2015). Dissertation - Funktionaler Anwendungsentwurf verteilter Automatisierungssysteme: Anwendung von Entwurfsmustern in der Automatisierungstechnik. Hamburg: Universit\u00e4tsbibliothek der HSU / UniBwH. Helmut-Schmidt-Universit\u00e4t. DOI: 10.24405/526</p>"},{"location":"references/#fego20","title":"FeG\u00f620","text":"<p>Felbermayr, Gabriel; G\u00f6rg, Holger (2020). Die Folgen von Covid-19 f\u00fcr die Globalisierung. Perspektiven der Wirtschaftspolitik, 21(3), 263-272. ISSN: 1465-6493. DOI: 10.1515/pwp-2020-0025</p>"},{"location":"references/#ggb22","title":"GGB+22","text":"<p>Grothoff, Julian; Gruner, Sten; Barth, Christian; Kehl, Alexander; Freund, Matthias; Klausmann, Tobias (2022). Asset Administration Shell as Integration Layer for the Orchestration of Mixed Process and Manufacturing Plants. In: 2022 IEEE 27th International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-6654-9996-5. DOI: 10.1109/ETFA52439.2022.9921653</p>"},{"location":"references/#ghi19","title":"GHI+19","text":"<p>Graube, Markus; Hensel, Stephan; Iatrou, Chris Paul; Klose, Anselm; M\u00e4dler, Jonathan; Urbas, Leon (2019). Rezept-getriebene Prozessf\u00fchrung in modularen Anlagen: Konzepte und Erfahrungen aus dem P2O-Lab Dresden. VDI-Bericht Nr. 2351, 2019.</p>"},{"location":"references/#ghj94","title":"GHJ+94","text":"<p>Gamma, Erich; Helm, Richard; Johnson, Ralph; Vlissides, John (1994). Design Patterns: Elements of reusable object-oriented software. Boston, Mass.: Addison-Wesley. ISBN: 0201633612.</p>"},{"location":"references/#ght21","title":"GHT+21","text":"<p>Gruner, Sten; Hoernicke, Mario; Thies, Michael; Fachinger, Gerrit; Torres, Nicolas Camargo; Kleinert, Tobias (2021). A Reference Architecture for Modular Industrial Automation Systems. In: 2021 26th IEEE International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-7281-2989-1. DOI: 10.1109/ETFA45728.2021.9613203</p>"},{"location":"references/#gkg22","title":"GKG+22","text":"<p>Grothoff, Julian; Kotsch, Christoph; Gr\u00fcner, Sten; Richter, Nils; Barth, Christian; Kleinert, Tobias (2022). Modul\u00fcbergreifende Querkommunikation. atp magazin, 63(10). ISSN: 2190-4111. DOI: 10.17560/atp.v63i10.2619</p>"},{"location":"references/#gzn20","title":"GZN+20","text":"<p>Gang, Huang; Zhilou, Yu; Naikuo, Chen; Guirong, Feng; Lei, Zhang; Boyi, Hu; Shiming, Qin (2020). Development of OPC UA based centralized server Fieldbus data high efficiency transmit architecture. In: 2020 39th Chinese Control Conference (CCC). IEEE. ISBN: 978-9-8815-6390-3. DOI: 10.23919/CCC50068.2020.9188765</p>"},{"location":"references/#haso16","title":"HaS\u00f616","text":"<p>Hauff, Thomas; S\u00f6ffing, Stefan (2016). Herausforderungen aktueller IT-Entwicklungen: Auswirkungen auf die Automatisierungstechnik. atp edition, 2016(1-2).</p>"},{"location":"references/#hozo11","title":"HoZo11","text":"<p>Hofmann, Michael; Zoitl, Alois (2011). Improved communication model for an IEC 61499 runtime environment. In: 2011 IEEE 16th Conference on Emerging Technologies &amp; Factory Automation (ETFA 2011). IEEE. ISBN: 978-1-4577-0017-0. DOI: 10.1109/ETFA.2011.6059121</p>"},{"location":"references/#jaan13","title":"Jaan13","text":"<p>Javier del Pozo; ana.arroyo@tecnalia.com (2013). Collaborative Environment for Eco-Design of Product-Services and Production Processes Integrating Highly Personalised Innovative Functions: Deliverable D100.4. Vol. 2013.</p>"},{"location":"references/#jasm05","title":"JaSm05","text":"<p>Jammes, F.; Smit, H. (2005). Service-Oriented Paradigms in Industrial Automation. IEEE Transactions on Industrial Informatics, 1(1). ISSN: 1551-3203. DOI: 10.1109/TII.2005.844419</p>"},{"location":"references/#jjd12","title":"JJD12","text":"<p>Julsereewong, Amphawan; Julsereewong, Prasit; Dejsiriphant, Thipat (2012). Study on field control locations for Foundation Fieldbus-based cascade control loop. In: SICE Annual Conference 2012, Vol. 1706-1711.</p>"},{"location":"references/#kasa23","title":"KaSa23","text":"<p>Kang, Owen; Salcic, Zoran (2023). Towards Interoperability of Industrial Automation Systems Using SystemJ and TwinCAT. In: 2023 IEEE 18th Conference on Industrial Electronics and Applications (ICIEA). IEEE. ISBN: 979-8-3503-1220-1. DOI: 10.1109/ICIEA58696.2023.10241544</p>"},{"location":"references/#kbk14","title":"KBK+14","text":"<p>Keddis, Nadine; Burdalo, Jonathan; Kainz, Gerd; Zoitl, Alois (2014). Increasing the adaptability of manufacturing systems by using data-centric communication. In: Proceedings of the 2014 IEEE Emerging Technology and Factory Automation (ETFA). IEEE. ISBN: 978-1-4799-4845-1. DOI: 10.1109/ETFA.2014.7005214</p>"},{"location":"references/#kks16","title":"KKS+16","text":"<p>Kothmayr, Thomas; Kemper, Alfons; Scholz, Andreas; Heuer, Jorg (2016). Instant service choreographies for reconfigurable manufacturing systems - a demonstrator. In: 2016 IEEE 21st International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-5090-1314-2. DOI: 10.1109/ETFA.2016.7733606</p>"},{"location":"references/#kmm25","title":"KMM25","text":"<p>Korovkin, Vasily; Makarin, Alexey; Miyauchi, Yuhei (2025). Supply Chain Disruption and Reorganization: Theory and Evidence From Ukraine's War. DOI: 10.1093/restud/rdaf080</p>"},{"location":"references/#kolu19","title":"KoL\u00fc19","text":"<p>Koch, Ricarda; L\u00fcftner, Ralph (2019). Communication networks in automation: Bus systems, industrial security and network design. Erlangen: Publicis Pixelpark. ISBN: 3895784524. URL: http://www.wiley-vch.de/publish/dt/books/ISBN978-3-89578-452-1/</p>"},{"location":"references/#kre18","title":"Kre18","text":"<p>Krebs, Florian (2018). Towards plug and work OPC UA as middleware of modern automation systems. In: International Symposium on Robotics. Berlin and Offenbach: VDE Verlag. ISBN: 978-3-8007-4699-6.</p>"},{"location":"references/#krma85","title":"KrMa85","text":"<p>Kramer, J.; Magee, J. (1985). Dynamic Configuration for Distributed Systems. IEEE Transactions on Software Engineering, SE-11(4). ISSN: 0098-5589. DOI: 10.1109/TSE.1985.232231</p>"},{"location":"references/#ladi15","title":"LaDi15","text":"<p>Lau, Kung-Kiu; Di Cola, Simone (2015). (Reference) Architecture = Components + Composition (+ Variation Points). In: Philippe Kruchten, Kung-Kiu Lau, Elisa Yumi Nakagawa (Eds.), Proceedings of the 1st International Workshop on Exploring Component-based Techniques for Constructing Reference Architectures. New York, NY, USA: ACM. ISBN: 9781450334457. DOI: 10.1145/2755567.2755978</p>"},{"location":"references/#leca14","title":"LeCa14","text":"<p>Lednicki, Luka; Carlson, Jan (2014). A framework for generation of inter-node communication in component-based distributed embedded systems. In: Proceedings of the 2014 IEEE Emerging Technology and Factory Automation (ETFA). IEEE. ISBN: 978-1-4799-4845-1. DOI: 10.1109/ETFA.2014.7005222</p>"},{"location":"references/#lei17","title":"Lei17","text":"<p>Lei Chen; Cristofer Englund (2017). Choreographing services for smart cities: smart traffic demonstration: Sydney, Australia, 4-7 June 2017 : proceedings. Piscataway, NJ: IEEE. ISBN: 9781509059324. URL: http://ieeexplore.ieee.org/servlet/opac?punumber=8106913</p>"},{"location":"references/#lkb10","title":"LKB+10","text":"<p>Lepuschitz, Wilfried; Koppensteiner, Gottfried; Barta, Manuel; Nguyen, Thanh Tung; Reinprecht, Constantin (2010). Implementation of automation agents for batch process automation. In: 2010 IEEE International Conference on Industrial Technology. IEEE. ISBN: 978-1-4244-5695-6. DOI: 10.1109/ICIT.2010.5472745</p>"},{"location":"references/#lll19","title":"LLL+19","text":"<p>Lee, Yang Koo; Lee, Seung-Jun; Lee, Hakjin; Yoon, Daesub (2019). Implementation of Distributed Smart Factory Platform based on Edge Computing and OPC UA. In: IECON 2019 - 45th Annual Conference of the IEEE Industrial Electronics Society. IEEE. ISBN: 978-1-7281-4878-6. DOI: 10.1109/IECON.2019.8926787</p>"},{"location":"references/#mlc08","title":"MLC+08","text":"<p>Mendes, J. Marco; Leitao, Paulo; Colombo, Armando W.; Restivo, Francisco (2008). Service-oriented process control using High-Level Petri Nets. In: 2008 6th IEEE International Conference on Industrial Informatics. IEEE. ISBN: 978-1-4244-2170-1. DOI: 10.1109/INDIN.2008.4618202</p>"},{"location":"references/#mlc12","title":"MLC+12","text":"<p>Mendes, J. Marco; Leit\u00e3o, Paulo; Colombo, Armando W.; Restivo, Francisco (2012). High-level Petri nets for the process description and control in service-oriented manufacturing systems. International Journal of Production Research, 50(6). ISSN: 0020-7543. DOI: 10.1080/00207543.2011.575892</p>"},{"location":"references/#orca","title":"ORCA","text":"<p>Urbas, Leon (2021). Abschlussbericht - ENPRO 2.0 ORCA - Effiziente Orchestrierung modularer Anlagen. [TU Dresden]. DOI: 10.2314/KXP:1805562487</p>"},{"location":"references/#pav17","title":"PAV17","text":"<p>Prieler, Julia; Aicher, Thomas; Vogel-Heuser, Birgit (2017). Increasing adaptability of automation control software for automated material flow systems via software modularization. In: IECON 2017 - 43rd Annual Conference of the IEEE Industrial Electronics Society. IEEE. ISBN: 978-1-5386-1127-2. DOI: 10.1109/IECON.2017.8216676</p>"},{"location":"references/#pel03","title":"Pel03","text":"<p>Peltz, C. (2003). Web services orchestration and choreography. Computer, 36(10). ISSN: 0018-9162. DOI: 10.1109/MC.2003.1236471</p>"},{"location":"references/#pjj18","title":"PJJ+18","text":"<p>Pannil, Pittaya; Jaroenla, Sutee; Julsereewong, Amphawan; Kummool, Sart (2018). Feedforward hybrid control using foundation fieldbus: A case study of temperature control with DeltaV system. In: 2018 3rd International Conference on Control and Robotics Engineering (ICCRE). IEEE. ISBN: 978-1-5386-6663-0. DOI: 10.1109/ICCRE.2018.8376443</p>"},{"location":"references/#psa15","title":"PSA+15","text":"<p>Pfrommer, Julius; Stogl, Denis; Aleksandrov, Kiril; Escaida Navarro, Stefan; Hein, Bj\u00f6rn; Beyerer, J\u00fcrgen (2015). Plug &amp; produce by modelling skills and service-oriented orchestration of reconfigurable manufacturing systems. at - Automatisierungstechnik, 63(10). ISSN: 0178-2312. DOI: 10.1515/auto-2014-1157</p>"},{"location":"references/#ric16","title":"Ric16","text":"<p>Richards, Mark (2016). Microservices vs. Service-Oriented Architecture. O'Reilly Media, Inc. ISBN: 978-1-491-95242-9.</p>"},{"location":"references/#rsg19","title":"RSG+19","text":"<p>Ruede, Timo; Sch\u00e4fer, Christian; Greve, Christoph; Urbas, Leon (2019). Dienstedesign und Rezepterstellung zur Orchestrierung einer granular modularen Laboranlage: Erfahrungen aus der Praxis zum Zusammenspiel von Diensten \u00fcber Modulgrenzen hinaus am Beispiel einer hausinternen modularen Laboranlage. VDI-Bericht Nr. 2351, 2019.</p>"},{"location":"references/#rwv25","title":"RWV25","text":"<p>Romier, Lucas; Wilch, Jan; Vogel-Heuser, Birgit (2025). Coordination and Communication for Online-Reconfigurable Real-Time Distributed Control. 21st International Conference on Automation Science and Engineering, IEEE, 2025, Los Angeles, CA, USA (in print).</p>"},{"location":"references/#scp18","title":"SCP+18","text":"<p>Spinelli, Stefano; Cataldo, Andrea; Pallucca, Giacomo; Brusaferri, Alessandro (2018). A distributed control architecture for a reconfigurable manufacturing plant. In: 2018 IEEE Industrial Cyber-Physical Systems (ICPS). IEEE. ISBN: 978-1-5386-6531-2. DOI: 10.1109/ICPHYS.2018.8390788</p>"},{"location":"references/#sdb18","title":"SDB18","text":"<p>Seeger, Jan; Deshmukh, Rohit Arunrao; Broring, Arne (2018). Running Distributed and Dynamic IoT Choreographies. In: 2018 Global Internet of Things Summit (GIoTS). IEEE. ISBN: 978-1-5386-6451-3. DOI: 10.1109/GIOTS.2018.8534570</p>"},{"location":"references/#sds19","title":"SDS+19","text":"<p>Seeger, Jan; Deshmukh, Rohit A.; Sarafov, Vasil; Broring, Arne (2019). Dynamic IoT Choreographies. IEEE Pervasive Computing, 18(1). ISSN: 1536-1268. DOI: 10.1109/MPRV.2019.2907003</p>"},{"location":"references/#sqv14","title":"SQV+14","text":"<p>Sheng, Quan Z.; Qiao, Xiaoqiang; Vasilakos, Athanasios V.; Szabo, Claudia; Bourne, Scott; Xu, Xiaofei (2014). Web services composition: A decade's overview. Information Sciences, 280. ISSN: 00200255. DOI: 10.1016/j.ins.2014.04.054</p>"},{"location":"references/#stma01","title":"StMa01","text":"<p>Starkey, Ken; Madan, Paula (2001). Bridging the Relevance Gap: Aligning Stakeholders in the Future of Management Research. British Journal of Management, 12(s1). ISSN: 1045-3172. DOI: 10.1111/1467-8551.12.s1.2</p>"},{"location":"references/#swa21","title":"SWA+21","text":"<p>Sonnleithner, Lisa; Wiesmayr, Bianca; Ashiwal, Virendra; Zoitl, Alois (2021). IEC 61499 Distributed Design Patterns. In: 2021 26th IEEE International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-7281-2989-1. DOI: 10.1109/ETFA45728.2021.9613569</p>"},{"location":"references/#thn25","title":"THN+25","text":"<p>Tran, Nguyen Khoi; Haralambides, Hercules; Notteboom, Theo; Cullinane, Kevin (2025). The costs of maritime supply chain disruptions: The case of the Suez Canal blockage by the 'Ever Given' megaship. International Journal of Production Economics, 279, 109464. ISSN: 09255273. DOI: 10.1016/j.ijpe.2024.109464</p>"},{"location":"references/#thr13","title":"Thr13","text":"<p>Thramboulidis, Kleanthis (2013). IEC 61499 vs. 61131: A Comparison Based on Misperceptions. Journal of Software Engineering and Applications, 06(08). ISSN: 1945-3116. DOI: 10.4236/jsea.2013.68050</p>"},{"location":"references/#tsk18","title":"TSK18","text":"<p>Telschig, Kilian; Schonberger, Andreas; Knapp, Alexander (2018). A Real-Time Container Architecture for Dependable Distributed Embedded Applications. In: 2018 IEEE 14th International Conference on Automation Science and Engineering (CASE). IEEE. ISBN: 978-1-5386-3593-3. DOI: 10.1109/coase.2018.8560546</p>"},{"location":"references/#twz17","title":"TWZ+17","text":"<p>Terzimehic, Tarik; Wenger, Monika; Zoitl, Alois; Bayha, Andreas; Becker, Klaus; Muller, Thorsten; Schauerte, Hubertus (2017). Towards an industry 4.0 compliant control software architecture using IEC 61499 &amp; OPC UA. In: 2017 22nd IEEE International Conference on Emerging Technologies and Factory Automation (ETFA). IEEE. ISBN: 978-1-5090-6505-9. DOI: 10.1109/ETFA.2017.8247718</p>"},{"location":"references/#vwk05","title":"VWK05","text":"<p>Vogel-Heuser, Birgit; Witsch, Daniel; Katzke, Uwe (2005). Automatic Code Generation from a UML model to IEC 61131-3 and system configuration tools. In: 2005 International Conference on Control and Automation. IEEE. ISBN: 0-7803-9137-3. DOI: 10.1109/ICCA.2005.1528274</p>"},{"location":"references/#wil25","title":"Wil25","text":"<p>Wilch, Jan (2025). Reconfigurable Control Software for Adaptability and Resilience in Special-purpose Machinery. Dissertation, Technische Universit\u00e4t M\u00fcnchen, M\u00fcnchen. URL: https://mediatum.ub.tum.de/1776770 Accessed: 06.09.2025</p>"},{"location":"references/#wivo25","title":"WiVo25","text":"<p>Wilch, Jan; Vogel-Heuser, Birgit (2025). Field-Level Reconfiguration of Real-Time Distributed PLC Operating Procedures. In: 2025 IEEE 8th International Conference on Industrial Cyber-Physical Systems (ICPS). DOI: 10.1109/ICPS65515.2025.11087839</p>"},{"location":"references/#wsz20","title":"WSZ20","text":"<p>Wiesmayr, Bianca; Sonnleithner, Lisa; Zoitl, Alois (2020). Structuring Distributed Control Applications for Adaptability. In: 2020 IEEE Conference on Industrial Cyberphysical Systems (ICPS). IEEE. ISBN: 978-1-7281-6389-5. DOI: 10.1109/ICPS48405.2020.9274744</p>"},{"location":"references/#wvs25","title":"WVS+25","text":"<p>Wilch, Jan; Vogel-Heuser, Birgit; Sax, Florian; R\u00fcth, Simon; Oeckl, Ulrich; Wohlschl\u00e4ger, Bernhard; Hsieh, Yu-Ming; Cheng, Fan-Tien (2025). Enhancing the Resilience of IEC 61131-3 Software with Online Reconfigurations for Fault Handling. IEEE Transactions on Automation Science and Engineering. ISSN: 1545-5955. DOI: 10.1109/TASE.2025.3543626</p>"},{"location":"references/#zlm10","title":"ZLM+10","text":"<p>Zoitl, Alois; Lepuschitz, Wilfried; Merdan, Munir; Vallee, Mathieu (2010). A real-time reconfiguration infrastructure for distributed embedded control systems. In: 2010 IEEE 15th Conference on Emerging Technologies &amp; Factory Automation (ETFA 2010). IEEE. ISBN: 978-1-4244-6848-5. DOI: 10.1109/ETFA.2010.5641259</p>"},{"location":"references/#zst06","title":"ZST06","text":"<p>Zoitl, Alois; Sunder, Christoph; Terzic, Ivanka (2006). Dynamic reconfiguration of distributed control applications with reconfiguration services based on IEC 61499. In: IEEE Workshop on Distributed Intelligent Systems: Collective Intelligence and Its Applications (DIS'06). IEEE. ISBN: 0-7695-2589-X. DOI: 10.1109/DIS.2006.28</p>"},{"location":"references/#standards-and-specifications","title":"Standards and Specifications","text":""},{"location":"references/#hermes","title":"Hermes","text":"<p>IPC (2024). IPC-HERMES-9852: The Global Standard for Machine-to-Machine Communication in SMT Assembly. No. 9852.</p>"},{"location":"references/#iec-61131-3","title":"IEC 61131-3","text":"<p>IEC (2013). IEC 61131-3 Programmable Controllers - Programming Languages. Vol. 25.040.40, No. 61131-3.</p>"},{"location":"references/#iec-61499","title":"IEC 61499","text":"<p>IEC (2012). IEC 61499-1 - Function blocks - Part 1: Architecture. Berlin: Beuth Verlag. Vol. 35.240.50, No. 61499.</p>"},{"location":"references/#iec-61512-1","title":"IEC 61512-1","text":"<p>IEC (1997). IEC 61512-1 - Batch Control - Part 1: Models and terminology. Berlin: Beuth Verlag. Vol. ICS 01.040.25; 25.040.40, No. 61512-1.</p>"},{"location":"references/#isa-tr880002","title":"ISA TR88.00.02","text":"<p>ISA (2022). ISA-TR88.00.02 - Machine and Unit States: An implementation example of ISA-88.00.01: OMAC PackML. No. TR88.00.02.</p>"},{"location":"references/#ne-187","title":"NE 187","text":"<p>NAMUR (2023). NAMUR-Empfehlung NE 187 - Anforderungen an Prozessorchestrierung modularer Produktionsanlagen. No. 187.</p>"},{"location":"references/#o-pas-1","title":"O-PAS-1","text":"<p>The Open Group (2023). Open Group Standard - O-PAS V2.1 Part 1: Technical Architecture Overview. No. O-PAS-1.</p>"},{"location":"references/#opc10000-1","title":"OPC10000-1","text":"<p>OPC Foundation (2012). OPC 10000-1 - UA Part 1: Overview and Concepts. 1.02 ed., No. 1. OPC Foundation.</p>"},{"location":"references/#opc10000-14","title":"OPC10000-14","text":"<p>OPC Foundation (2018). OPC 10000-14 - UA Part 14: PubSub. URL: https://reference.opcfoundation.org/Core/Part14/v104/docs/ Accessed: 06.09.2025</p>"},{"location":"references/#opc10000-80","title":"OPC10000-80","text":"<p>OPC Foundation (2025). OPC 10000-80 - Part 80: UAFX Overview and Concepts. 1.00.03 ed., No. 10000-80. URL: https://reference.opcfoundation.org/UAFX/Part80/v100/docs/ Accessed: 31.07.2025</p>"},{"location":"references/#opc10000-81","title":"OPC10000-81","text":"<p>OPC Foundation (2025). OPC 10000-81 - Part 81: UAFX Connecting Devices and Information Model. 1.00.03 ed., No. 10000-81. URL: https://reference.opcfoundation.org/UAFX/Part81/v100/docs/ Accessed: 31.07.2025</p>"},{"location":"references/#opc30001","title":"OPC30001","text":"<p>OPC Foundation &amp; PLCopen (2023). OPC 30001 - PLC Client Function Blocks based on IEC 61131-3. URL: https://reference.opcfoundation.org/PLCopen-CFB/v102/docs/ Accessed: 06.09.2025</p>"},{"location":"references/#vdivdenamur-2658","title":"VDI/VDE/NAMUR 2658","text":"<p>VDI/VDE Gesellschaft f\u00fcr Mess- und Automatisierungstechnik. VDI/VDE/NAMUR 2658 - Automatisierungstechnisches Engineering modularer Anlagen. Berlin: Beuth Verlag, No. 2658. URL: https://www.vdi.de/2658 Accessed: 06.09.2025</p>"},{"location":"references/#vdivdenamur-2658-1","title":"VDI/VDE/NAMUR 2658-1","text":"<p>VDI/VDE Gesellschaft f\u00fcr Mess- und Automatisierungstechnik (2019). VDI/VDE/NAMUR 2658-1 - Automatisierungstechnisches Engineering modularer Anlagen in der Prozessindustrie: Allgemeines Konzept und Schnittstellen. Berlin: Beuth Verlag. Vol. ICS 35.240.50, No. 2658-1. URL: https://www.vdi.de/2658 Accessed: 06.09.2025</p>"},{"location":"references/#vdivdenamur-2658-4","title":"VDI/VDE/NAMUR 2658-4","text":"<p>VDI/VDE Gesellschaft f\u00fcr Mess- und Automatisierungstechnik (2022). VDI/VDE/NAMUR 2658-4 - Automatisierungstechnisches Engineering modularer Anlagen in der Prozessindustrie: Modellierung von Moduldiensten. Berlin: Beuth Verlag. Vol. ICS 35.240.50, No. 2658-4. URL: https://www.vdi.de/2658 Accessed: 06.09.2025</p>"},{"location":"references/#vdi-2776-1","title":"VDI 2776-1","text":"<p>VDI Gesellschaft f\u00fcr Verfahrenstechnik und Chemieingenieurwesen (2024). VDI 2776-1 - Verfahrenstechnische Anlagen - Modulare Anlagen: Design modularer Anlagen. Berlin: Beuth Verlag. Vol. ICS 71.020, No. 2776-1.</p>"},{"location":"references/#vdi-5201","title":"VDI 5201","text":"<p>VDI Gesellschaft f\u00fcr Technologies of Life Science (2017). VDI 5201 - Beschreibung und Messung der Wandlungsf\u00e4higkeit produzierender Unternehmen: Beispiel Medizintechnik. Berlin: Beuth Verlag. Vol. ICS 03.100.50, 11.020.99, No. 5201.</p>"},{"location":"references/#internet-sources","title":"Internet Sources","text":""},{"location":"references/#4di25","title":"4DI25","text":"<p>4DIAC (2025). OPC UA With IEC 61499 Tutorial. Eclipse 4DIAC. URL: https://eclipse.dev/4diac/doc/communication/opcUA.html Accessed: 06.09.2025</p>"},{"location":"references/#bec25a","title":"Bec25a","text":"<p>Beckhoff (2025). Automatisierungssoftware TwinCAT. URL: https://www.beckhoff.com/de-de/produkte/automation/twincat/ Accessed: 06.09.2025</p>"},{"location":"references/#bec25b","title":"Bec25b","text":"<p>Beckhoff (Ed.) (2025). TF6100 | TwinCAT 3 OPC UA. URL: https://www.beckhoff.com/de-de/produkte/automation/twincat/tfxxxx-twincat-3-functions/tf6xxx-connectivity/tf6100.html Accessed: 06.09.2025</p>"},{"location":"references/#bio17","title":"Bio17","text":"<p>BioPhorum (2017). Biomanufacturing Technology Roadmap: Modular and Mobile. URL: https://www.biophorum.com/download/modular-mobile/ Accessed: 06.09.2025</p>"},{"location":"references/#bio21","title":"Bio21","text":"<p>BioPhorum (2021). BioPhorum - Automated Facility Plug-and-Play: Stirred Tank Unit Interface Specification. URL: https://www.biophorum.com/download/automated-facility-stirred-tank-unit-interface-specification/ Accessed: 06.09.2025</p>"},{"location":"references/#cod25","title":"CoD25","text":"<p>CoDeSys (Ed.) (2025). CODESYS OPC UA PubSub SL. URL: https://store.codesys.com/de/opc-ua-pubsub-sl.html Accessed: 06.09.2025</p>"},{"location":"references/#dec17","title":"DEC17","text":"<p>DECHEMA (2017). Modulare Anlagen: Flexible chemische Produktion durch Modularisierung und Standardisierung - Status quo und zuk\u00fcnftige Trends. ProcessNet Whitepaper, 2017. URL: https://dechema.de/dechema_media/modulareanlagen.pdf Accessed: 16.09.2025</p>"},{"location":"references/#ecl25","title":"Ecl25","text":"<p>Eclipse Foundation (Ed.) (2025). Eclipse Layout Kernel (ELK): Website. URL: https://eclipse.dev/elk/ Accessed: 06.09.2025</p>"},{"location":"references/#imc10","title":"IMC10","text":"<p>IMCAESOP (2010). IMC-AESOP Project, Website. URL: https://cordis.europa.eu/project/rcn/95545/factsheet/en Accessed: 06.09.2025</p>"},{"location":"references/#mic25","title":"Mic25","text":"<p>Blumenstein, Michelle (2025). Application and Extension of the Module Type Package Concept for Production-Related Logistics: Technical Report. Helmut Schmidt University / University of the Federal Armed Forces Hamburg. DOI: 10.13140/RG.2.2.36019.81440 URL: https://github.com/Blumi102/MTP4Logistics Accessed: 06.09.2025</p>"},{"location":"references/#pla25","title":"Pla25","text":"<p>Plattform Industrie 4.0 (Ed.) (2025). Glossar Industrie 4.0: Fachliche Funktionalit\u00e4t. URL: https://www.plattform-i40.de/SiteGlobals/IP/Forms/Listen/Glossar/DE/Glossar_Formular.html?resourceId=d3c15e91-adc2-414c-b4a6-abd768ca8347&amp;input_=be0d6c26-4e5d-4263-b3e5-d8bdb3ff0e29&amp;pageLocale=de&amp;titlePrefix=F#form-d3c15e91-adc2-414c-b4a6-abd768ca8347 Accessed: 06.09.2025</p>"},{"location":"references/#sda22","title":"SDA22","text":"<p>SDA (Ed.) (2022). Version control for tracking and visualizing PLC code changes. URL: https://www.softwaredefinedautomation.io/resources/blog/version-control-for-tracking-and-visualizing-plc-code-changes/ Accessed: 06.09.2025</p>"},{"location":"references/#sie21","title":"Sie21","text":"<p>Siemens AG (Ed.) (2021). OPC UA PubSub mit SIMATIC S7-1500 auf Basis von MQTT: Anwendungsbeispiel. Munich. URL: https://support.industry.siemens.com/cs/document/109797826/opc-ua-pubsub-mit-simatic-s7-1500-auf-basis-von-mqtt?dti=0&amp;lc=de-WW Accessed: 06.09.2025</p>"},{"location":"references/#sie22a","title":"Sie22a","text":"<p>Siemens AG (2022). C2C-Kommunikation via OPC UA PubSub mit SIMATIC S7-1500 auf Basis von UDP: Anwendungsbeispiel. Munich. URL: https://support.industry.siemens.com/cs/document/109782455/c2c-kommunikation-via-opc-ua-pubsub-mit-simatic-s7-1500-auf-basis-von-udp?dti=0&amp;lc=de-WW Accessed: 06.09.2025</p>"},{"location":"references/#sie22b","title":"Sie22b","text":"<p>Siemens AG (2022). S7-Anwenderbaustein f\u00fcr den OPC UA-Client einer SIMATIC S7-1500. URL: https://support.industry.siemens.com/cs/document/109762770/s7-anwenderbaustein-f%C3%BCr-den-opc-ua-client-einer-simatic-s7-1500-?dti=0&amp;lc=de-WW Accessed: 06.09.2025</p>"},{"location":"references/#sie23a","title":"Sie23a","text":"<p>Siemens AG (Ed.) (2023). OPC UA PubSub mit SIMATIC S7-1500 auf Basis von MQTT/JSON: Anwendungsbeispiel. Munich. URL: https://support.industry.siemens.com/cs/document/109814033/opc-ua-pubsub-mit-simatic-s7-1500-auf-basis-von-mqtt-json?dti=0&amp;lc=de-CH Accessed: 06.09.2025</p>"},{"location":"references/#uao25","title":"UAO25","text":"<p>Universal Automation (2025). Universal Automation: Website. URL: https://universalautomation.org/ Accessed: 06.09.2025</p>"},{"location":"artifacts/active-choreography-participant/","title":"Active Choreography Participant","text":""},{"location":"artifacts/active-choreography-participant/#artifact-active-choreography-participant","title":"Artifact - Active Choreography Participant","text":""},{"location":"artifacts/active-choreography-participant/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name Active Choreography Participant Artifact Type Design Pattern Target Users System Architects, Software Architects, PLC Programmers Objective This artifact describes the necessary components to enable a controller to take on the tasks of an active choreography participant. The necessary sub-artifacts and their relationships are described."},{"location":"artifacts/active-choreography-participant/#relevant-publications","title":"Relevant Publications","text":"<p>This section introduces the design pattern of the active choreography participant. Contents of this section are published in [SFB+21], [SBM+22], [StMa21], [StMa22], and [Stu23].</p>"},{"location":"artifacts/active-choreography-participant/#artifact-description","title":"Artifact Description","text":"<p>The Active Choreography Participant design pattern consists of a sub-pattern for configurable communication and a sub-pattern for configurable logic, as well as the native program. The pattern is designed as a facade around the native program and can therefore be retrofitted into any existing program.</p> <p></p>"},{"location":"artifacts/active-choreography-participant/#artifact-building-blocks","title":"Artifact Building Blocks","text":""},{"location":"artifacts/active-choreography-participant/#native-program","title":"Native Program","text":"<p>The native program (orange area in the figure) forms the component of a control system that implements the automated functions of the modular unit. Both proprietary and standardized approaches can be used for implementation. The use of standardized approaches is preferred as it reduces error susceptibility and increases the reusability of control solutions.</p>"},{"location":"artifacts/active-choreography-participant/#configurable-logic","title":"Configurable Logic","text":"<p>The Configurable Logic design pattern (green area in the figure) forms the program part responsible for configurable processing of available information. It represents the behavior-manipulating building block which is used to implement an active choreography participant.</p>"},{"location":"artifacts/active-choreography-participant/#configurable-communication","title":"Configurable Communication","text":"<p>The Configurable Communication design pattern (blue area in the figure) represents the program part used for configurable information exchange between choreography participants. It is allowed and advantageous to equip a control program with multiple different communication technologies. It is important that two participants each use the same technology to be interoperable.</p>"},{"location":"artifacts/active-choreography-participant/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/active-choreography-participant/#separation-of-responsibilities","title":"Separation of Responsibilities","text":"<p>Both an integral design and a modular design for implementing an active choreography participant were investigated. Following the principle of separation of responsibilities, the decision was made for the modularized variant. Configurable communication and configurable logic will therefore be developed in two independent patterns. This opens up an additional degree of freedom regarding communication, considering both openness and extensibility for different communication technologies, as well as the conscious decision not to prescribe any communication technology.</p>"},{"location":"artifacts/active-choreography-participant/#retrofitability-of-choreography-capability","title":"Retrofitability of Choreography Capability","text":"<p>The retrofitability of choreography-enabling components in the software of an active choreography participant's controller is essential. Following the idea of a facade pattern from software development, the implementation concept was designed analogously. It enables retrofitability with minimal impact on the native program. The clear separation between native program parts and added configurable program parts reduces effort in future requalification.</p>"},{"location":"artifacts/active-choreography-participant/#artifact-implementation-details","title":"Artifact Implementation Details","text":"<p>The program part based on the Configurable Logic design pattern serves to process available information. Information made accessible to configurable logic is bundled and provided in the input, consisting of information from the native program and incoming information from configurable communication of other choreography participants.</p> <p>Configurable logic continuously processes the information available to it, including input information, processing results from previous logic elements, and output information. The output of configurable logic uses these results and routes them either back to the native program or via communication channels to other choreography participants.</p> <p>The program part based on the Configurable Communication design pattern serves information exchange with other choreography participants. Due to the variety of communication technology possibilities, this aspect is not elaborated further here. The possibilities and framework conditions for incoming and outgoing information of an active choreography participant are examined more deeply in the communication-specific artifacts.</p>"},{"location":"artifacts/active-choreography-participant/#artifact-application","title":"Artifact Application","text":"<p>For choreography enablement of an industrial controller, the two described design patterns Configurable Logic and Configurable Communication must be embedded into the user program according to their description. The interconnection of the native control program and the input and output lists thus connects the functional components of the base program with the introduced choreography enhancements.</p> <p>The information models for configuring both Configurable Logic and Configurable Communication are to be disclosed through a defined communication interface. For this purpose, an OPC UA server integrated into the controller is suitable. An OPC UA client can transmit the configuration to the corresponding OPC UA server via disclosed information models.</p>"},{"location":"artifacts/automation-service-choreography-framework/","title":"Automation Service Choreography Framework","text":""},{"location":"artifacts/automation-service-choreography-framework/#artifact-automation-service-choreography-framework","title":"Artifact - Automation Service Choreography Framework","text":""},{"location":"artifacts/automation-service-choreography-framework/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name Automation Service Choreography Framework Artifact Type Framework Target Users System Architects, Software Architects, PLC Programmers Objective Development of the Automation Service Choreography Framework to present the components necessary for developing and implementing automation services. It describes individual components as sub-artifacts and illustrates their mutual dependencies. The goal is to provide a comprehensive representation of all individual components as an entry point for future developers and users of automation service choreographies."},{"location":"artifacts/automation-service-choreography-framework/#relevant-publications","title":"Relevant Publications","text":""},{"location":"artifacts/automation-service-choreography-framework/#artifact-description","title":"Artifact Description","text":"<p>The Automation Service Choreography Framework provides the development framework that encompasses the required components of the described concept and presents relationships following a top-down approach. The framework consists of one architectural pattern and eight design patterns, organized into the four content areas named System Architecture, Participants, Information Processing and Information Provisioning. Its visualized within the following figure. </p> <p> Figure: Automation Service Choreography Framework and its Components</p>"},{"location":"artifacts/automation-service-choreography-framework/#artifact-building-blocks","title":"Artifact Building Blocks","text":""},{"location":"artifacts/automation-service-choreography-framework/#choreography-enabled-system-architecture","title":"Choreography-enabled System Architecture","text":"<p>It represents the architectural pattern of this concept. it Introduces the resulting system architecture and shows the impact of choreographed automation services on service-based automation systems and their central orchestration in the Process Orchestration Layer.</p>"},{"location":"artifacts/automation-service-choreography-framework/#active-choreography-participant","title":"Active Choreography Participant","text":"<p>It represents the central building block as design patterns implementing automation service choreographies. It defines the components, relationships, and tasks of an active choreography participant with capabilities for information transfer and processing. </p>"},{"location":"artifacts/automation-service-choreography-framework/#passive-choreography-participant","title":"Passive Choreography Participant","text":"<p>It represents an extending building block of the Active Participant as design pattern. It enables the integration of legacy systems through decentralized orchestration by an active choreography participant. </p>"},{"location":"artifacts/automation-service-choreography-framework/#external-lead","title":"External Lead","text":"<p>It represents a second extending building block by introducting a design pattern for the implementation of a special automation service. It introduces an automation service that plays an essential role in orchestrating choreographed functions when no available service can assume the leader role. </p>"},{"location":"artifacts/automation-service-choreography-framework/#configurable-logic","title":"Configurable Logic","text":"<p>It represents an implementation related design pattern which specifies the core of information processing and enables influence on native control programs and configurable behavior based on internal and external information.</p>"},{"location":"artifacts/automation-service-choreography-framework/#configurable-communication","title":"Configurable Communication","text":"<p>It represents an abstract design pattern defining the foundation for configurable communication indepentend of the used communication technologies. A analysis of different communication pattern and their usable technologies extends this artifact.</p>"},{"location":"artifacts/automation-service-choreography-framework/#configurable-communication-with-opc-ua-clientserver","title":"Configurable Communication with OPC UA Client/Server","text":"<p>It represents a technology-specific design pattern for the configurable communication using OPC UA Client/Server mechanisms. Base of this pattern represents the PLC Open OPC UA Client Function Block specification. </p>"},{"location":"artifacts/automation-service-choreography-framework/#configurable-communication-with-opc-ua-publishsubscribe","title":"Configurable Communication with OPC UA Publish/Subscribe","text":"<p>It represents a technology-specific design pattern for the configurable communication using OPC UA Publish/Subscribe. It is possible to implement with this kind of communication technology one-to-many communication based on the push principle. </p>"},{"location":"artifacts/automation-service-choreography-framework/#configurable-communication-with-opc-ua-field-exchange","title":"Configurable Communication with OPC UA Field Exchange","text":"<p>It represents a technology-specific design pattern for the configurable communication using OPC UA Field Exchange. It represents an alternative OPC UA mechanism which is itself already for the use of configurable communication. </p>"},{"location":"artifacts/automation-service-choreography-framework/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/automation-service-choreography-framework/#dual-target-audience","title":"Dual Target Audience","text":"<p>The framework is designed to cater to two distinct target audiences: system architects and software architects/PLC programmers. For system architects, it provides a \"System View\" that focuses on the System Architecture and Participants content areas. For software architects and PLC programmers, a more detailed \"Software View\" is offered, which extends the \"System View\" by also including the Information Processing and Information Provisioning areas.</p>"},{"location":"artifacts/automation-service-choreography-framework/#modular-building-block-system","title":"Modular Building Block System","text":"<p>Software components for configurable logic and communication are treated separately to enable flexible combination of multiple communication technologies. This supports targeted equipment of choreography participants with suitable communication mechanisms based on system strategy requirements.</p>"},{"location":"artifacts/automation-service-choreography-framework/#artifact-application","title":"Artifact Application","text":""},{"location":"artifacts/automation-service-choreography-framework/#for-system-architects","title":"For System Architects","text":"<p>System architects use the Choreography-enabled System Architecture pattern as their entry point to design modular production systems with choreographed automation services. They are responsible for defining the framework conditions for software architects and PLC programmers, which involves considering the system-wide implications and design options for the choreography patterns.</p>"},{"location":"artifacts/automation-service-choreography-framework/#for-software-architectsplc-programmers","title":"For Software Architects/PLC Programmers","text":"<p>Software architects and PLC programmers use the participant design patterns as their entry point. They are responsible for implementing the software components from the Information Processing and Information Provisioning areas. This allows for the flexible selection and combination of communication technologies, enabling the runtime composition of distributed functions based on system design requirements.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/","title":"Choreographed System Architecture","text":""},{"location":"artifacts/choreography-enabled-system-architecture/#artifact-choreography-enabled-system-architecture","title":"Artifact - Choreography-enabled System Architecture","text":""},{"location":"artifacts/choreography-enabled-system-architecture/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name Choreography-enabled System Architecture Artifact Type Design Pattern Target Users System Architects Objective This architecture pattern describes the application of automation service choreographies in the context of a modular plant and central orchestration. It provides insights into changes and influences through the use of choreographies in combination with central orchestration. Rigid equipment-oriented structures and boundaries blur due to composed functions that are formed across equipment boundaries. The transformation from current to future system architectures is presented using three figures. Current architectures are based exclusively on central orchestration. Future architectures use both central orchestration and choreographies for system automation. The purpose of the architecture pattern is to clarify the changes to future system architects and introduce the next level of detail of the concept."},{"location":"artifacts/choreography-enabled-system-architecture/#relevant-publications","title":"Relevant Publications","text":"<p>This architectural pattern will be initially published in the PhD thesis, which is not yet publicly available.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#artifact-description","title":"Artifact Description","text":"<p>The architectural pattern of Choreography-enabled System Architecture introduces the resulting system architecture and shows the impact of choreographed automation services on service-based automation systems and their central orchestration in the Process Orchestration Layer.</p> <p> Figure 1: System architecture of a modular plant with a modular unit composed by choreography</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#artifact-building-blocks","title":"Artifact Building Blocks","text":""},{"location":"artifacts/choreography-enabled-system-architecture/#modular-plant","title":"Modular Plant","text":"<p>The Modular Plant represents the physical and software-based system that should be capable of manufacturing a product. It consists of the Process Orchestration Layer as well as several atomic and modular PEAs.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#modular-units-pea-a-pea-g-and-modular-pea-x","title":"Modular Units - PEA A, PEA G and Modular PEA X","text":"<p>The modular units PEA A and PEA G each describe a self-contained system that can provide services with automation functions of different granularity. Each PEA has at least one control system connected to the Process Orchestration Layer. Current PEAs are passive communication participants regarding their role in communication with the Process Orchestration Layer, hence existing systems are also called passive choreography participants. The active role of communication lies solely with the Process Orchestration Layer. This will need to change in the future for modular units in the context of choreographies.</p> <p>For the modular PEA X, this will partially change in the future. Towards the Process Orchestration Layer, the modular PEA X remains a passive communication participant. As active choreography participants, the FEAs and COMPs within the modular PEA X gain the ability to act as active communication participants. This requires FEAs and COMPs to have their own control systems that meet these requirements while being adapted in performance to their specific needs.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#controllers-and-the-concept-of-choreography-participants","title":"Controllers and the Concept of Choreography Participants","text":"<p>The Controller represents the program-executing component within a PEA. Typically, PEAs have exactly one control system on which services are implemented and provided. However, it cannot be excluded that modular units also have two or more control systems.</p> <p>An active choreography participant refers to a control system that has implemented the design patterns developed in this work. A passive choreography participant refers to a control system that has not implemented these design patterns.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#services","title":"Services","text":"<p>A Service describes the encapsulation of an automation function through state-based abstraction and parameterization. Services also have input and output process values that can be linked together for closed-loop control functions or interlocks.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#process-orchestration-layer-pol","title":"Process Orchestration Layer (POL)","text":"<p>The Process Orchestration Layer bundles the system functions necessary for operating the Modular Plant. Essential components include central Orchestration, Operation &amp; Monitoring, and Choreography Configuration. The latter is added through the introduction of choreography mechanisms for modular PEAs.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#orchestration","title":"Orchestration","text":"<p>The Orchestration enables coordination of services provided by the PEAs. Orchestration does not distinguish whether they are services of atomic or modular PEAs.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#operation-monitoring","title":"Operation &amp; Monitoring","text":"<p>Operation &amp; Monitoring provides a simple and clear way to look into the current process. Process diagrams enable plant operators to monitor the status and progress of production and intervene when necessary.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#choreography-configuration","title":"Choreography Configuration","text":"<p>The newly introduced Choreography Configuration describes a Process Orchestration Layer system function with which choreographies can be designed and activated. Activation includes transferring the configuration and initiating execution of configurable logic and configurable communication.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#leader","title":"Leader","text":"<p>When designing an automation service choreography, one service must act as Leader, representing the single point of access of the choreographed function to the Process Orchestration Layer and communicating with higher-level systems through its interface.</p> <p>A service can assume the role of Internal Lead if its state matches that of the choreographed function. The other services act as followers. In cases where no single service can represent the entire function \u2013 such as in sequential processes \u2013 an External Lead is required.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/choreography-enabled-system-architecture/#focus-on-runtime-technical-aspects","title":"Focus on Runtime Technical Aspects","text":"<p>System architectural investigations showed that neither an implementation nor an engineering approach for automation service choreographies existed previously. A solid engineering methodology requires clear definition of what content is captured and how it can be transferred into technical implementation.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#combination-of-orchestration-and-choreography","title":"Combination of Orchestration and Choreography","text":"<p>System architectural considerations raised the question of whether choreography should completely replace or supplement central orchestration. Comparison of both approaches shows that system complexity increases significantly with the number of services in choreographed systems.</p> <p>While technically feasible, complete replacement of orchestration by plant-wide choreography has practical limitations due to information processing complexity and lack of clarity without supporting engineering methodology.</p> <p>Therefore, this work limits choreography to combining FEAs and COMPs. Coordination of composite PEAs continues through central orchestration in the POL.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#artifact-implementation-details","title":"Artifact Implementation Details","text":"<p>The composite PEA X from Figure 1 can be implemented in various ways. Figure 2 shows a theoretical representation of all choreography patterns considered in this work, describing four patterns in total.</p> <p> Figure 2: Theoretical structure of a choreography of a composite modular unit with different occurring choreography patterns</p> <p>Solid lines describe connections between two active (choreography) participants. Dashed lines describe connections between active and passive (choreography) participants. Transparent services have no significance for choreography configuration and remain available to central orchestration.</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#four-choreography-patterns","title":"Four Choreography Patterns","text":"<p>Pattern 1: Modular unit (FEA B and E) with one active choreography participant. This unit has a single control system capable of participating in choreography.</p> <p>Pattern 2: Modular unit with multiple controls (FEA C). Both controls are choreography-capable and participate as active participants C1 and C2.</p> <p>Pattern 3: Represented by FEA D. The unit has two controls (D1 and D2). One is choreography-capable (active participant D1), the other is not (passive participant D2). The active participant D1 serves as decentralized orchestrator for the passive participant D2.</p> <p>Pattern 4: Variation of Pattern 3 with participants distributed across two modular units (FEA E and F). Both units form a participant pair consisting of active participant E and passive participant F.</p> <p>The resulting system architecture from the POL perspective is shown in Figure 3:</p> <p> Figure 3: System architecture resulting from choreography usage and automation services available for orchestration</p>"},{"location":"artifacts/choreography-enabled-system-architecture/#artifact-application","title":"Artifact Application","text":"<p>Using automation service choreographies within a modular plant leads to blurring system boundaries of modular units (PEAs, FEAs, and COMPs). The design pattern introduces an implicitly existing system level below the POL, serving to form composite functions through distributed behavioral rules and configurable communication.</p> <p>The blackbox of composite PEA X from Figure 1 is merged with various FEAs from Figure 2, resulting in the modular plant shown in Figure 3 with seven physical PEAs and one non-physically existing PEA formed through choreography.</p> <p>Services A1, A2, B1, B2, D11, E2, F1, G1, G2 are available to central Orchestration. Focus is on Service B1, which acts as Leader Service representing the choreography. Follower Services C11, C12, C21, C22, D12, D21, D22, E1, and F2 are part of the choreography and not available to central Orchestration.</p> <p>This type of choreographed composite PEA formation can be performed multiple times. There are exactly as many Leader Services as there are configured choreographies in the system.</p>"},{"location":"artifacts/configurable-communication-opcuacs/","title":"Configurable Communication OPC UA CS","text":""},{"location":"artifacts/configurable-communication-opcuacs/#artifact-configurable-communication-with-opc-ua-cs","title":"Artifact - Configurable Communication with OPC UA CS","text":""},{"location":"artifacts/configurable-communication-opcuacs/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name Configurable Communication with OPC UA Client/Server (CS) Artifact Type Design Pattern Target Users Software Architects, PLC Programmers Objective This design pattern defines the concrete implementation for dynamically configurable OPC UA Client/Server communication. It describes information models, implementation patterns, limitations and possibilities."},{"location":"artifacts/configurable-communication-opcuacs/#relevant-publications","title":"Relevant Publications","text":"<p>This section introduces the design pattern for configurable communication based on OPC UA Client/Server mechanisms. Parts of the content in this section have been published in [StMa19], [SFB+21], and [SKB+22*].</p>"},{"location":"artifacts/configurable-communication-opcuacs/#artifact-description","title":"Artifact Description","text":"<p>The Configurable Communication with OPC UA CS design pattern describes an implementation of dynamically configurable OPC UA Client/Server connections including read and write functions. The pattern considers applicability on resource-constrained embedded control solutions. Corresponding mechanisms are provided to enable more efficient resource usage of the device and safe operation of communication.</p> <p>The foundation of the patterns described here is the PLC Open OPC UA Client function block library. The configuration interface is provided through exposure of the configuration model in the integrated OPC UA Server of the controller.</p> <p>The pattern offers three possibilities related to automation service choreographies - (1) Read information from other active choreography participants and transfer it to the input list, (2) Write information from the output list to other choreography participants and (3) Include passive choreography participants in the sense of decentralized orchestration when they only have an OPC UA Server.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#artifact-technological-conditions","title":"Artifact Technological Conditions","text":"<p>Industrial control systems are subject to constraints such as limited system resources, IEC 61131 programming language requirements, and pre-compiled control software. This limits the use of OPC UA Client/Server connections regarding the number of connections and information to be read or written.</p> <p>Industrial controllers limit the number of connections, write and read operations. The number of reading and writing operations can be increased through scheduling at the cost of update rate. A scheduling mechanism for connections offers no significant advantage due to the duration of connection setup/teardown and resource release. Block optimization of information to be read and written requires dynamic allocation of memory areas, which is not supported by all control platforms.</p> <p>The design pattern must use system resources efficiently and comply with limits. These constants must be defined by the developer during PEA engineering, considering the system resources available in the control system.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#artifact-building-blocks","title":"Artifact Building Blocks","text":"<p>The design pattern consists of four components and several used data types.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#opcuaclientservermanager-component","title":"OpcUaClientServerManager Component","text":"<p>The central component that concretizes the core component of the abstract design pattern. Implements core functions for connection, reader, and writer management.</p> <p> Figure: Components of the OPC UA Client/Server specific design pattern for configurable communication</p>"},{"location":"artifacts/configurable-communication-opcuacs/#uaconnection-component","title":"UaConnection Component","text":"<p>Bundles all necessary mechanisms for managing, executing, and monitoring an OPC UA connection.</p> <p> Figure: Components and data types with focus on connection management</p>"},{"location":"artifacts/configurable-communication-opcuacs/#uareader-component","title":"UaReader Component","text":"<p>Describes all necessary variables and data structures for managing, executing, and monitoring a read operation of process value and quality code information from another choreography participant.</p> <p> Figure: Components and data types with focus on read operation processing</p>"},{"location":"artifacts/configurable-communication-opcuacs/#uawriter-component","title":"UaWriter Component","text":"<p>Describes all necessary variables and data structures for managing, executing, and monitoring a write operation of process value and quality code information to another choreography participant.</p> <p> Figure: Components and data types with focus on write operation processing</p>"},{"location":"artifacts/configurable-communication-opcuacs/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/configurable-communication-opcuacs/#bus-like-function-block-structure-and-scheduling","title":"Bus-like Function Block Structure and Scheduling","text":"<p>To optimize resource usage, a bus-like structure is introduced where each reader and writer gets access to the connection handle list and is assigned to a connection via configuration. This enables more flexible use of available resources and requires scheduling to prevent system overload when maximum limits are exceeded.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#variable-nodecount-for-reading-and-writing","title":"Variable NodeCount for Reading and Writing","text":"<p>Between choreography-enabled control systems, information is always exchanged as a combination of process value and status in UnionType format. For integration of legacy systems as passive choreography participants, a NodeCount setting determines whether process values are addressed with or without status information.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#artifact-implementation-details","title":"Artifact Implementation Details","text":""},{"location":"artifacts/configurable-communication-opcuacs/#bus-like-interaction-structure","title":"Bus-like Interaction Structure","text":"<p> Figure: Bus-like interaction structure between the three main components</p> <p>Flexibility is achieved through a bus system-inspired function block structure. Technical constraints limit the number of connections, reader/writer operations, and value fields. Assignment is done configuratively, with each reader and writer determining an ID within its bus line for scheduling purposes.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#scheduling-mechanism","title":"Scheduling Mechanism","text":"<p> Figure: Example scheduling with round-robin method - six operations and five execution slots</p> <p>Internal scheduling ensures that the maximum number of simultaneous read and write operations on a connection is not exceeded. A round-robin algorithm is used, which can be replaced with other scheduling approaches implementable in IEC 61131 environments.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#communication-workflow","title":"Communication Workflow","text":""},{"location":"artifacts/configurable-communication-opcuacs/#connection-workflow","title":"Connection Workflow","text":"<p> Figure: Workflow for OPC UA connection processing</p> <p>The connection starts in Disconnected state. With Connect activation, the setup process begins through Configuring, Connecting, and GetNamespaceTable states. In the active Executing state, the connection is monitored and readers/writers are coordinated by the scheduler.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#readerwriter-workflow","title":"Reader/Writer Workflow","text":"<p> Figure: Workflow for OPC UA Reader/Writer function processing</p> <p>The process begins in Uninitialized state. After connection initialization, reader/writer transitions to Initializing, registers, and determines ID. After successful registration, Idle state is reached, waiting for Connect command.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#artifact-application","title":"Artifact Application","text":"<p> Figure: Application of the OPC UA Client/Server specific design pattern</p> <p>The pattern supports four application variants. For active reading, the <code>UaReader</code> component is used to read information from other choreography participants. Active writing requires the <code>UaValueField</code> and <code>UaWriter</code> components to write to passive targets. A third variant combines both of these approaches for active reading and writing. Lastly, a special variant for decentralized orchestration allows the integration of passive choreography participants.</p>"},{"location":"artifacts/configurable-communication-opcuacs/#artifact-proscons","title":"Artifact Pros/Cons","text":"<p>Advantages:</p> <ul> <li>OPC UA Client/Server is the most common approach and widely used in industrial automation</li> <li>Efficient resource usage through flexible assignment mechanisms</li> <li>No additional connection monitoring mechanisms required due to active communication role</li> <li>Supports integration of passive choreography participants</li> <li>Manufacturer-neutral applicability following PLC Open OPC UA specification</li> </ul> <p>Disadvantages:</p> <ul> <li>Industrial control systems often designed as OPC UA Server, not Client</li> <li>OPC UA Client functions less widespread and may not support PLC Open specification</li> <li>Limited system capacities require significant coordination effort</li> <li>Runtime configuration may not be possible with proprietary, statically configured systems</li> </ul>"},{"location":"artifacts/configurable-communication-opcuafx/","title":"Configurable Communication OPC UA FX","text":""},{"location":"artifacts/configurable-communication-opcuafx/#artifact-configurable-communication-with-opc-ua-fx","title":"Artifact - Configurable Communication with OPC UA FX","text":""},{"location":"artifacts/configurable-communication-opcuafx/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name Configurable Communication with OPC UA Field eXchange (FX) Artifact Type Design Pattern Target Users Software Architects, PLC Programmers Objective This design pattern defines, in accordance with the OPC UA FX specification, the necessary information models and corresponding mirror data types for integration into control programs. OPC UA FX already describes a standard mechanism for direct information exchange between controllers. The pattern defines necessary components and describes their application."},{"location":"artifacts/configurable-communication-opcuafx/#relevant-publications","title":"Relevant Publications","text":"<p>Content partially published in [SBB+23] and based on OPC UA Specification 10000-8X [OPC10000-80].</p>"},{"location":"artifacts/configurable-communication-opcuafx/#artifact-description","title":"Artifact Description","text":"<p>The design pattern Configurable Communication with OPC UA FX defines the necessary components for applying OPC UA FX in Controller-to-Controller (C2C) execution. The uniqueness of this design pattern lies in the fact that OPC UA FX C2C is already specified for the use case pursued with the concrete design patterns of configurable communication.</p> <p>The OPC UA FX specification describes how connections between two endpoints are to be configured. The information must be described in a defined form, requiring data types for the control program and associated OPC UA models to be defined.</p> <p>This design pattern enables Communication Pattern Variant 2, as currently only OPC UA Publish/Subscribe is specified for OPC UA FX. In the future, application for OPC UA Client/Server is also expected, which would also support variants 3 and 4.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#artifact-technological-conditions","title":"Artifact Technological Conditions","text":"<p>Unlike OPC UA Publish/Subscribe and OPC UA Client/Server, OPC UA FX does not require explicit logic for communication in the user program. It is implemented as a firmware function in the controller. The FunctionalEntityTypes and the necessary AutomationComponentType for configuration are created via the information model provided by the OPC UA Server.</p> <p>Corresponding preparations are required for linking between the control program and information model, which are described in this design pattern. The components themselves create the data types that correspond to the FunctionalEntityTypes and make them available. The standardization of these constructs is crucial for the vendor neutrality of automation service choreographies and enables integration into the Connection Manager.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#artifact-building-blocks","title":"Artifact Building Blocks","text":"<p>The design pattern comprises nine definitions that enable equipping an active choreography participant with communication functions according to the OPC UA FX standard.</p> <p> Figure: Components and data types of the OPC UA Field Exchange specific design pattern for configurable communication</p> <p> Figure: Pattern-specific information models for using OPC UA FX in automation service choreographies</p>"},{"location":"artifacts/configurable-communication-opcuafx/#opcuafxmanager","title":"OpcUaFxManager","text":"<p>The core component that links the proxy data types for FunctionalEntityTypes with the input elements of the configurable logic.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#fxinputentitytype","title":"FxInputEntityType","text":"<p>Contains the associated information element for incoming OPC UA FX information on the control program side. The Index specifies which input element the associated FxInput element is transferred to.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#fxoutputentitytype","title":"FxOutputEntityType","text":"<p>Contains the associated information element for outgoing OPC UA FX information on the control program side. The Index specifies from which output element the value for the associated FxOutput element should be taken.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#participantcomponenttype","title":"ParticipantComponentType","text":"<p>A subtype of AutomationComponentType that represents the root element of a choreography participant relevant in an OPC UA FX relation.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#participantfunctionalentitytype","title":"ParticipantFunctionalEntityType","text":"<p>A subtype of FunctionalEntityType that represents the top functional element of a choreography participant.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#unioninputfunctionalentitytype","title":"UnionInputFunctionalEntityType","text":"<p>A subtype of FunctionalEntityType that represents the functional element of an input element. It has a folder object with Organizes relations to variables of the FxInput data type originating from the control program.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#unionoutputfunctionalentitytype","title":"UnionOutputFunctionalEntityType","text":"<p>A subtype of FunctionalEntityType that represents the functional element of an output element. It has a folder object with Organizes relations to variables of the FxOutput data type originating from the control program.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/configurable-communication-opcuafx/#mirror-data-types-for-opc-ua-fx-models","title":"Mirror Data Types for OPC UA FX Models","text":"<p>The linking of OPC UA information models and controller application programs is implemented through mapping. To make this mapping as simple as possible, mirror data types are specified for the application program that correspond to the information models defined in OPC UA FX. This makes future mapping easier for both developers and tool-supported mapping.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#artifact-implementation-details","title":"Artifact Implementation Details","text":"<p>The central aspect of the design pattern is the division of components in the control program and the definitions of the OPC UA FX information model. In the control program, the data types FxInputEntityType and FxOutputEntityType represent mirror definitions to the OPC UA FX definitions FxInputEntityData and FxOutputEntityData.</p> <p>Communication execution occurs via the system functions of the OPC UA FX firmware. Each FxInputEntityType and FxOutputEntityType has index information that addresses the corresponding element of the input or output list.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#artifact-application","title":"Artifact Application","text":"<p> Figure: Application of the OPC UA FX-specific design pattern for implementing incoming and outgoing information following the active choreography participant design pattern</p> <p>The design pattern serves to connect incoming and outgoing information between active choreography participants based on OPC UA FX. When OPC UA FX functionality is integrated into the control system firmware, an active choreography participant can be equipped with OPC UA FX mechanisms using the extensions of basic models and mirror definitions described here.</p>"},{"location":"artifacts/configurable-communication-opcuafx/#artifact-proscons","title":"Artifact Pros/Cons","text":"<p>Advantages:</p> <ul> <li>Enables extensive integration of C2C communication in industrial control systems</li> <li>Significantly reduces effort in the application program</li> <li>Standardized mechanism for direct controller-to-controller communication</li> </ul> <p>Disadvantages:</p> <ul> <li>Novelty risks: No commercial applications currently exist, and the specification is relatively new</li> <li>Specification changes and limitations in productive use are likely</li> <li>Connection preparation is necessary for OPC UA FX connections</li> <li>Not suitable for integrating existing systems due to preparation requirements</li> <li>Actual benefits can only be definitively evaluated with available commercial implementations</li> </ul>"},{"location":"artifacts/configurable-communication-opcuaps/","title":"Configurable Communication OPC UA PS","text":""},{"location":"artifacts/configurable-communication-opcuaps/#artifact-configurable-communication-with-opc-ua-ps","title":"Artifact - Configurable Communication with OPC UA PS","text":""},{"location":"artifacts/configurable-communication-opcuaps/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name Configurable Communication with OPC UA Publish/Subscribe (PS) Artifact Type Design Pattern Target Users Software Architects, PLC Programmers Objective This design pattern defines the concrete implementation for dynamically configurable OPC UA Publish/Subscribe transmission. It presents information models, implementation patterns, and the boundaries and application possibilities."},{"location":"artifacts/configurable-communication-opcuaps/#relevant-publications","title":"Relevant Publications","text":"<p>This section introduces the design pattern for configurable communication based on OPC UA Publish/Subscribe. Parts of this section are published in [SKB+22].</p>"},{"location":"artifacts/configurable-communication-opcuaps/#artifact-description","title":"Artifact Description","text":"<p>The design pattern Configurable Communication with OPC UA PS enables dynamic configuration of OPC UA PS transmissions. It defines publishers and subscribers that serialize information according to the OPC UA specification and transmit it via UDP. Both unicast and multicast addresses are supported. Processing occurs entirely within the user program, with serialized data packets transmitted/received via operating system-integrated UDP communication mechanisms.</p> <p>Publishers send data from the output list. Subscribers receive data and transfer it to the input list. Connectionless communication requires additional mechanisms to check and mark outdated information as unsafe, making communication problems detectable.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#artifact-technological-conditions","title":"Artifact Technological Conditions","text":"<p>In this implementation variant, serialization and deserialization occur directly in the control program. Serialized information is transmitted as native UDP telegrams. A standard library specification for OPC UA PS, analogous to OPC UA Client functions, does not exist. However, some control vendors provide building block libraries for publishers and subscribers that implement standard serialization.</p> <p>The number of transferable union values must be defined during engineering, considering maximum UDP connections that vary by manufacturer and control type. As a framework condition for dynamically configurable direct information transfers, exactly one UnionType is processed per dataset. Each publisher and subscriber can only process one group with one reader or writer and one dataset. Therefore, a dedicated publisher and subscriber is required for each piece of information to be exchanged.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#artifact-building-blocks","title":"Artifact Building Blocks","text":"<p>The design pattern consists of 5 components and several data types shown in the following sub-sections and three figures:</p>"},{"location":"artifacts/configurable-communication-opcuaps/#opcuapubsubmanager","title":"OpcUaPubSubManager","text":"<p>Central component representing the core of the design pattern. Provides access to publisher and subscriber lists for configuration and monitoring of information transmission.</p> <p> Figure: Components and data types of the OPC UA Publish/Subscribe specific design pattern for configurable communication</p>"},{"location":"artifacts/configurable-communication-opcuaps/#uapublisher","title":"UaPublisher","text":"<p>Sending component that transmits output information to other choreography participants and their subscribers.</p> <p> Figure: Component and data types of the OPC UA Publisher</p>"},{"location":"artifacts/configurable-communication-opcuaps/#opcuapubprocessor","title":"OpcUaPubProcessor","text":"<p>Execution control software component for OPC UA Publishers. Executes configured publishers and establishes connection to the output list.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#uasubscriber","title":"UaSubscriber","text":"<p>Receiving component that receives information from other choreography participants and transfers it to the corresponding input list element.</p> <p> Figure: Component and data types of the OPC UA Subscriber</p>"},{"location":"artifacts/configurable-communication-opcuaps/#opcuasubprocessor","title":"OpcUaSubProcessor","text":"<p>Execution control software component for OPC UA Subscribers. Executes configured subscribers and establishes connection to the input list.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/configurable-communication-opcuaps/#introduction-of-execution-control-components","title":"Introduction of Execution Control Components","text":"<p>IEC 61131 defines continuous and timed execution cycles. UDP communication in IEC 61131 environments is OS-integrated and used through function blocks. Received telegrams must be continuously retrieved, while send telegrams are transmitted cyclically. Therefore, publishers and subscribers have separate processor components for flexible integration.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#single-information-transfer-per-publishersubscriber","title":"Single Information Transfer per Publisher/Subscriber","text":"<p>For maximum flexibility in transporting arbitrary information, point-to-point transmission is required. Since IEC 61131 programs cannot dynamically form optimized information blocks, individual transmission is necessary. Each publisher sends exactly one UnionType value, and each subscriber receives exactly one UnionType value.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#udp-transmission-usage","title":"UDP Transmission Usage","text":"<p>OPC UA PS supports transmission via both UDP and MQTT. UDP is chosen as a connectionless protocol preferred when speed is more important than reliability, requiring no additional infrastructure unlike MQTT brokers.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#artifact-implementation-details","title":"Artifact Implementation Details","text":""},{"location":"artifacts/configurable-communication-opcuaps/#processing-integration","title":"Processing Integration","text":"<p> Figure: Integration into different execution contexts for this design pattern</p> <p>To minimize latency, subscribers are integrated at the beginning of the application program in a fast execution context (e.g., OB1 in SIMATIC S7). Publishers, on the other hand, are executed at the end of the application program in a cyclical context, for instance, every 100ms.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#component-interaction","title":"Component Interaction","text":"<p>The OpcUaPubSubManager serves as single point of access for configuration and monitoring. Processor components handle execution and value transfer between output/input lists and the network components.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#communication-monitoring","title":"Communication Monitoring","text":"<p>Uses push-case monitoring where timestamps are checked for each piece of information. If timestamps exceed defined timeframes, communication is considered disrupted. Monitoring results are entered in the input list with corresponding behavioral rules.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#artifact-application","title":"Artifact Application","text":"<p> Figure: Application of the OPC UA Pub/Sub-specific design pattern for implementing incoming and outgoing information following the active choreography participant design pattern</p> <p>The pattern connects incoming and outgoing information between active choreography participants using OPC UA Publish/Subscribe mechanisms. Each participant is extended with publishing and subscribing capabilities. The output list of configurable logic is transmitted by publishers to subscribers, which capture network telegrams and forward received data to the logic's input list.</p> <p>This design pattern is suitable for choreography implementation when the described limitations (passive participant integration, security constraints) are not exclusion criteria. For use cases where these boundaries have no consequences, the OPC UA PS pattern can achieve efficient solutions with very low latency times.</p>"},{"location":"artifacts/configurable-communication-opcuaps/#artifact-proscons","title":"Artifact Pros/Cons","text":"<p>Advantages:</p> <ul> <li>Extremely low latency times for information transmission</li> <li>Integrated application approach simplifies usage</li> <li>Efficient solution for specific use cases</li> </ul> <p>Disadvantages:</p> <ul> <li>Limited to one UnionType information per publisher/subscriber</li> <li>Security risks due to inability to implement OPC UA Security mechanisms in real-time control programs</li> <li>Bidirectional configuration required</li> <li>Not suitable for integrating passive choreography participants</li> </ul>"},{"location":"artifacts/configurable-communication/","title":"Configurable Communication Abstract","text":""},{"location":"artifacts/configurable-communication/#artifact-configurable-communication","title":"Artifact - Configurable Communication","text":""},{"location":"artifacts/configurable-communication/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name Configurable Communication Artifact Type Abstract Design Pattern Target Users Software Architects, PLC Programmers Objective This design pattern defines fundamental properties and requirements for concrete communication technologies to be implemented. Automation service choreographies with multiple participants require information exchange that is dynamically configurable. The underlying technology is secondary; therefore, this pattern describes requirements and basic considerations for configurable communication."},{"location":"artifacts/configurable-communication/#relevant-publications","title":"Relevant Publications","text":"<p>Content of the abstract design pattern is partially already published within [SKB+22*].</p>"},{"location":"artifacts/configurable-communication/#artifact-description","title":"Artifact Description","text":"<p>The abstract design pattern Configurable Communication establishes the foundations for information transfer between choreography participants. It is abstract because it defines general principles and building blocks that must be implemented in technology-specific patterns. The scope also includes an analysis of various communication patterns from which framework conditions for protocol-specific implementations are derived. For automation service choreographies, the technology used is secondary; what matters is adherence to the fundamental principles and building blocks described below. </p>"},{"location":"artifacts/configurable-communication/#artifact-building-blocks","title":"Artifact Building Blocks","text":"<p>Depending on the communication principle (Push/Pull), one of the abstract base components shown in Figure 1 must be selected for the active communication partner side.</p> <p></p>"},{"location":"artifacts/configurable-communication/#abstract-component-configurable-communication-push","title":"Abstract Component - Configurable Communication (Push)","text":"<p>The abstract component Configurable Communication (Push) describes an active communication partner that transmits information from the output list to a defined communication partner. Following this principle, communication partners actively send data from their information inventory. The output list and the associated union value of configurable communication are used. Therefore, the component consists exclusively of a list of output types.</p>"},{"location":"artifacts/configurable-communication/#abstract-component-configurable-communication-pull","title":"Abstract Component - Configurable Communication (Pull)","text":"<p>The abstract component Configurable Communication (Pull) describes an active communication partner that specifically retrieves information from another partner (Pull) and transfers it to the input list as a union value according to the specified index. The active communication partner has access to all information from the input list of the other partner, provided it has been configured accordingly. Therefore, this component comprises exclusively a list of input types.</p>"},{"location":"artifacts/configurable-communication/#abstract-component-configurable-communication-pushpull","title":"Abstract Component - Configurable Communication (Push/Pull)","text":"<p>The abstract component Configurable Communication (Push/Pull) combines the functions of an active communication partner that can both retrieve information from other partners (Pull) and forward it to them (Push). It thus combines the capabilities of pure Push and Pull variants.</p>"},{"location":"artifacts/configurable-communication/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/configurable-communication/#abstract-description-of-communication","title":"Abstract Description of Communication","text":"<p>During the work, the diversity of design possibilities that can be applied for implementing controller-to-controller communication becomes apparent. Describing every possibility is not conducive for a scientific work on transferring choreography principles to industrial automation. This step corresponds more to a developmental rather than a scientific question. Nevertheless, a developer needs certain framework conditions and guidelines for transferring a concrete communication technology to be able to use the communication technology in the context of automation service choreographies.</p> <p>For this reason, the decision was made to introduce an abstract design pattern that defines universally valid foundations necessary for the concrete implementation of communication technologies.</p>"},{"location":"artifacts/configurable-communication/#artifact-implementation-details","title":"Artifact Implementation Details","text":"<p>As technical details of the abstract design pattern, universally valid specifications and the results of an investigation of typical communication patterns are described. Both form the basis for adapting concrete communication technologies.</p>"},{"location":"artifacts/configurable-communication/#specifications-for-configurable-communication","title":"Specifications for Configurable Communication","text":"<p>The specifications described below serve future developers as orientation and guidelines for implementing concrete communication technologies. They emerged during a retrospective of three technology-specific design patterns and form an initial set of experience characteristics that can be used for future technology-specific implementations. At the same time, this means that this list does not claim to be complete - it is an initial collection of experiences from developing three technology-specific design patterns.</p> <p>Specification 1: Requires that at least one communication technology is provided for an active choreography participant. The possibilities of the control platform and the suitability of the technology must be considered. It is also possible to integrate multiple communication technologies within one participant.</p> <p>Specification 2: Demands the exchange of information between active choreography participants. Depending on the communication technology, this exchange occurs either in Push or Pull mode, with one partner taking the active role and the other the passive role. With the Pull principle, values are entered in the input list, while with the Push principle, information comes from the output list.</p> <p>Specification 3: Considers the limitations of IEC 61131-based control systems and requires that the developer of a choreography-capable control program already determines the number of transferable union values during engineering. The required connection and transmission resources must be prepared at the time of compiling and loading the program.</p> <p>Specification 4: Requires indexing of internal and external information in the input and output lists. Each entry must be identifiable by a unique index. Every union value exchanged via a protocol-specific implementation must be assigned to a defined element of the input or output list.</p> <p>Specification 5: Requires that the transmission of each union value is configurable according to protocol specifications. This configurability ensures that active choreography participants can be linked together after compiling and loading the control program.</p> <p>Specification 6: Requires provision of diagnostic information for each value to be exchanged. Additionally, it is recommended to provide collective error information at a central component.</p> <p>Specification 7: Requires provision of statistical information with the number of union values available for exchange and the number of currently active transmissions of union values. Additional protocol-specific statistical information can be provided as needed.</p>"},{"location":"artifacts/configurable-communication/#investigation-of-typical-communication-patterns","title":"Investigation of Typical Communication Patterns","text":"<p>When transmitting information in an automation service choreography, various constellations regarding the active and passive sides of communication as well as Push and Pull principles must be considered. The five communication patterns shown below emerge from these criteria, each with different advantages and disadvantages. Each pattern is evaluated based on the criteria described in the evaluation criteria table.</p> Pattern Description Variant 1: Publish-Subscribe with Broker - Describes communication between participants using a Publish-Subscribe pattern, where telegrams are routed through a central broker. Variant 2: Publish-Subscribe without Broker - Describes direct communication between participants using a Publish-Subscribe pattern. Variant 3: Request-Reply as Active Writing (Push) - Describes communication between choreography participants through exclusively writing activities. Variant 4: Request-Reply as Active Reading (Pull) - Describes communication between choreography participants through exclusively reading activities. Variant 5: Passive Request-Reply - Describes communication through the application of a third entity that can actively read and write, with participants being passive communication partners."},{"location":"artifacts/configurable-communication/#evaluation-criteria","title":"Evaluation Criteria","text":"Criterion Description Active Role Evaluates whether the active role of transmission lies on the information processing side. This is particularly advantageous for monitoring when the information-processing side also provides the active side of communication. Monitorability Evaluates what monitoring possibilities are available on which side of the transmission. Ideally, monitoring mechanisms exist on the side processing the transmitted information. Implementation Effort Evaluates what efforts the control program developer faces for implementing necessary components. Ideally, efforts should always be minimal. Configuration Effort Evaluates what efforts arise regarding configuration of the communication pattern. Ideally, efforts should always be minimal and preferably necessary only on the processing side. Theoretical Latency Evaluates what theoretical latency underlies the communication pattern. This is formed based on a sum of processing times along the path of information transmission using a reference system. Ideally, latency should be as low as possible."},{"location":"artifacts/configurable-communication/#evaluation-results","title":"Evaluation Results","text":"Criterion Preferred Pattern Justification Active Role Variant 4 Variant 4 with active reading represents the only variant where the active role of transmission lies on the information processing side. Monitorability Variant 4 Variant 4 has a direct possibility to monitor transmission and react directly to errors in information processing due to the active role on the processing side and Request-Reply interaction. Implementation Effort None Fully integrated operating system solutions are expected to cause the least effort. Partially integrated solutions combining operating system and user program integration require less effort than fully user-programmed solutions, which cause the greatest development effort. Configuration Effort None It is recommended to choose a technology that only needs to be configured on the active communication partner side. Theoretical Latency Variant 2 Variant 2 has the smallest expected latency."},{"location":"artifacts/configurable-communication/#pattern-prioritization","title":"Pattern Prioritization","text":"<p>Based on the analysis and considering ideal properties, the following prioritization of variants emerges (from most suitable to least suitable):</p> <ol> <li>Variant 4 - Request-Reply with Active Reading</li> <li>Variant 3 - Request-Reply with Active Writing</li> <li>Variant 2 - Publish-Subscribe without Broker</li> <li>Variant 1 - Publish-Subscribe with Broker</li> <li>Variant 5 - Passive Request-Reply</li> </ol>"},{"location":"artifacts/configurable-communication/#artifact-application","title":"Artifact Application","text":"<p>The abstract design pattern serves primarily as a development guideline for developing technology-specific implementations of configurable communication. Following the investigation of communication patterns, possible communication technologies were researched and initially evaluated.</p>"},{"location":"artifacts/configurable-communication/#overview-of-possible-communication-technologies","title":"Overview of Possible Communication Technologies","text":"<p>The following technologies were identified as potential candidates for the five possible communication patterns:</p> Communication Pattern Technologies Publish-Subscribe with Broker MQTT, OPC UA Pub/Sub with MQTT, OPC UA FX (with Pub/Sub) Publish-Subscribe without Broker DDS, OPC UA Pub/Sub with UDP, OPC UA FX (with Pub/Sub) Request-Reply as Active Writing (Push) REST, OPC UA Client/Server, OPC UA FX (with Client/Server) Request-Reply as Active Reading (Pull) REST, OPC UA Client/Server, OPC UA FX (with Client/Server) Passive Request-Reply REST, OPC UA Client/Server <p>Due to the widespread use of OPC UA mechanisms in industrial controls, the technology-specific criteria for the three variants OPC UA Client/Server, OPC UA Publish/Subscribe, and OPC UA FX are evaluated below.</p>"},{"location":"artifacts/configurable-communication/#opc-ua-clientserver-cs","title":"OPC UA Client/Server (CS)","text":"<p>Configuration effort is minimal with OPC UA Client/Server since only the OPC UA Client needs to be configured. However, when using security mechanisms, bilateral efforts arise through certificate exchange. Implementation effort for developers is also low since no efforts arise on the OPC UA Server side, and the OPC UA Client is usually simplified through building block libraries such as the PLC Open OPC UA Client specification.</p>"},{"location":"artifacts/configurable-communication/#opc-ua-publishsubscribe-ps","title":"OPC UA Publish/Subscribe (PS)","text":"<p>With OPC UA Publish/Subscribe, configurations are required on both Publisher and Subscriber sides since UDP addresses and OPC UA-specific settings are necessary. Implementation-wise, efforts arise on both sides since UDP is usually only operating system-integrated and communication is implemented in function blocks in the user program.</p>"},{"location":"artifacts/configurable-communication/#opc-ua-field-exchange-fx","title":"OPC UA Field Exchange (FX)","text":"<p>Since no commercial products exist for OPC UA FX in control systems, the analysis is based on prototypical developments. At the time of this work, only the application for OPC UA Publish/Subscribe was specified. Configuration effort is required on both sides, but the OPC UA FX Orchestrator handles the configuration. Implementation effort is currently difficult to quantify since prototypes do not allow representative evaluation.</p>"},{"location":"artifacts/configurable-communication/#selection-of-communication-technologies-to-consider","title":"Selection of Communication Technologies to Consider","text":"<p>Based on the described investigation and evaluation of communication patterns as well as available applicable technologies, the decision was made to develop technology-specific design patterns for OPC UA Client/Server, OPC UA Publish/Subscribe, and OPC UA FX for the continuation of this work.</p>"},{"location":"artifacts/configurable-logic/","title":"Configurable Logic","text":""},{"location":"artifacts/configurable-logic/#artifact-configurable-logic","title":"Artifact - Configurable Logic","text":""},{"location":"artifacts/configurable-logic/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name Configurable Logic Artifact Type Design Pattern Target Users Software Architects, PLC Programmers Objective This artifact defines the models and functional features of configurable logic, a central element of an active choreography participant. It enables the execution of configurable behavioral rules that determine a participant's role within the choreography. The software structures and their interactions are described in detail."},{"location":"artifacts/configurable-logic/#relevant-publications","title":"Relevant Publications","text":"<p>The contents of this section have been published in [SFB+21], [SBM+22], [SFB+23], [StMa21], [StMa22], and [Stu23].</p>"},{"location":"artifacts/configurable-logic/#artifact-description","title":"Artifact Description","text":"<p>The Configurable Logic design pattern follows an execution principle similar to a programmable logic controller (PLC). It has an input side that bundles information from the native program or provided by configurable communication. This information, along with known data within the configurable logic, is processed in a logic list with configurable function elements. The output side provides necessary information for influencing the native control program or transmission to external participants, utilizing all known information within the configurable logic (input list) and processing results (logic list).</p>"},{"location":"artifacts/configurable-logic/#artifact-building-blocks","title":"Artifact Building Blocks","text":"<p>The Configuralbe Logic represents an implementation related design pattern which specifies the core of information processing and enables influence on native control programs and configurable behavior based on internal and external information.</p> <p></p> <p>The Configurable Logic design pattern consists of one component, four data types, and four enumerations:</p>"},{"location":"artifacts/configurable-logic/#component-configurable-logic","title":"Component - Configurable Logic","text":"<p>The Configurable Logic component implements configurable input-processing-output functionality. It uses a list of Inputs, Logics and Outputs to implement the input-processing-output pattern in a configurable manner.  </p>"},{"location":"artifacts/configurable-logic/#data-type-uniontype","title":"Data Type - UnionType","text":"<p>The UnionType data type represents information with different data types, as the type of information is not yet determined at control program compilation time. Variables are defined for data types REAL, DINT, DWORD, BOOL, and STRING with prefix V. The VQC variable contains the Quality Code, and TypeSel* indicates the currently valid data type.</p>"},{"location":"artifacts/configurable-logic/#enumeration-datatypes","title":"Enumeration - DataTypes","text":"<p>The DataType enumeration defines the data type of UnionType within configurable logic, processed as byte constants.</p>"},{"location":"artifacts/configurable-logic/#data-type-functiontype","title":"Data Type - FunctionType","text":"<p>The FunctionType represents a configurable function with uniform function signature. It defines the function and its result, where Args provides four input arguments. Results are provided via Out variable, and RET shows processing errors.</p>"},{"location":"artifacts/configurable-logic/#data-type-argumenttype","title":"Data Type - ArgumentType","text":"<p>The ArgumentType describes information for a function argument. Fields SrcSel and Index function as pointer information to retrieve arguments from input, processing, or output lists. Through references to the processing list, FunctionType elements can be chained for complex expressions. The Const variable allows configuring arguments as constants.</p>"},{"location":"artifacts/configurable-logic/#enumeration-functiontypes","title":"Enumeration - FunctionTypes","text":"<p>The FunctionTypes enumeration defines the function to be applied by a FunctionType signature, determining how four arguments are processed and mapped to the output variable.</p>"},{"location":"artifacts/configurable-logic/#enumeration-sourcetypes","title":"Enumeration - SourceTypes","text":"<p>The SourceTypes enumeration defines the source location of information used as arguments in function signatures. Options include the three configurable logic lists (Input, Logic, Output), constants (Const), or unused arguments (None).</p>"},{"location":"artifacts/configurable-logic/#data-type-outputtype","title":"Data Type - OutputType","text":"<p>The OutputType data type describes output information and incorporates multiple functions. The <code>SrcSel</code> and <code>Index</code> fields function as pointer information to determine the source of the output from the input, processing, or output lists, while the <code>Const</code> field allows for setting constant values. The <code>Value</code> field stores the value after an update. To prevent unwanted activations during errors, the <code>Substitute</code> field defines a replacement value, and the <code>Ret</code> field is used to report any processing errors.</p>"},{"location":"artifacts/configurable-logic/#enumeration-errorcodes","title":"Enumeration - ErrorCodes","text":"<p>The ErrorCodes enumeration defines checked error cases and corresponding error codes for configuration diagnosis and execution monitoring.</p>"},{"location":"artifacts/configurable-logic/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/configurable-logic/#number-of-arguments","title":"Number of Arguments","text":"<p>The FunctionType uses four arguments based on analysis of necessary functions. This represents a compromise between flexibility and memory consumption.</p>"},{"location":"artifacts/configurable-logic/#uniontype-as-structure","title":"UnionType as Structure","text":"<p>To avoid issues with generic data types not uniformly supported by all control manufacturers, the UnionType is introduced as a quasi-generic data type enabling better diagnostics at the cost of memory usage.</p>"},{"location":"artifacts/configurable-logic/#variable-types-in-uniontype","title":"Variable Types in UnionType","text":"<p>Five data types are defined (REAL, DINT, DWORD, BOOL, STRING) based on use case analysis. Additional types can be added but increase memory requirements.</p>"},{"location":"artifacts/configurable-logic/#artifact-implementation-details","title":"Artifact Implementation Details","text":""},{"location":"artifacts/configurable-logic/#integration-into-control-program","title":"Integration into Control Program","text":"<p>Configurable logic integrates as a function block into the processing phase of cyclic control systems following the input-processing-output principle. Relevant information must be transferred to the input list before execution, and results are provided via the output list after execution.</p>"},{"location":"artifacts/configurable-logic/#internal-component-execution","title":"Internal Component Execution","text":"<p>The component operates with two sequential loops:</p>"},{"location":"artifacts/configurable-logic/#processing-loop","title":"Processing Loop","text":"<p>Each logic list element is processed sequentially. Configured functions process up to four arguments, storing results in the Out variable.</p> <p></p>"},{"location":"artifacts/configurable-logic/#chained-processing","title":"Chained Processing","text":"<p>Elements are processed in list order, enabling information chaining for complex expressions.</p> <p></p>"},{"location":"artifacts/configurable-logic/#argument-source-variations","title":"Argument Source Variations","text":"<p>Arguments can reference elements from input, logic, or output lists, or use constants.</p> <p></p>"},{"location":"artifacts/configurable-logic/#output-loop","title":"Output Loop","text":"<p>The second loop processes output elements using configurable pointer information (SrcSel and Index).</p> <p></p>"},{"location":"artifacts/configurable-logic/#output-source-variations","title":"Output Source Variations","text":"<p>Similar to ArgumentType, OutputType can use various information sources or constants.</p> <p></p>"},{"location":"artifacts/configurable-logic/#substitute-value-function","title":"Substitute Value Function","text":"<p>OutputType provides substitute values defined by developers as safe fallbacks during calculation or configuration errors, preventing unexpected behavior.</p>"},{"location":"artifacts/configurable-logic/#artifact-application","title":"Artifact Application","text":"<p>The Configurable Logic artifact requires integration into industrial control application programs, preferably as a dedicated function block implementing the input-processing-output structure.</p> <p>Integration follows a cross-connection pattern between the native program and configurable logic:</p> <p></p> <p>Before execution, all relevant information from the native program must be transferred to the configurable logic input list. After execution, output information is transferred back to the native program from the configurable logic output list.</p> <p>Note: Detailed descriptions and tables for each component are available in the referenced appendices of the original document.</p>"},{"location":"artifacts/external-lead/","title":"External Lead","text":""},{"location":"artifacts/external-lead/#artifact-external-lead","title":"Artifact - External Lead","text":""},{"location":"artifacts/external-lead/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name External Lead Artifact Type Design Pattern Target Users System Architects, Software Architects, PLC Programmers Objective This design pattern describes a special design of a service that is conceived to consolidate information flows starting and ending at different choreography-participating services. It provides the ability to initiate these information flows through a Do-Request of a state and recapture them through a Done-Reply. This offers a way to provide the choreography state-correctly to the Process Orchestration Layer."},{"location":"artifacts/external-lead/#relevant-publications","title":"Relevant Publications","text":"<p>The content of this artifact has been partially published in [SBM+22] and [BSF+22]. It is based on the MTP specification for automation services [VDI2658-4] and utilizes the virtual services concept from [GHI+19].</p>"},{"location":"artifacts/external-lead/#artifact-description","title":"Artifact Description","text":"<p>The External Lead design pattern describes a special implementation variant of an automation service that makes choreographies without a dedicated leader-capable service orchestrable for central orchestration. This service is not involved in the actual choreographed function in its role, but serves as an interface for transferring choreography information to a higher-level system.</p> <p>The External Lead can trigger behavioral changes in follower services via Do-Requests and receive feedback about successful execution of these changes via Done-Replies. The External Lead adapts its state according to the state machine and can access all required parameters, process values, and report values of the services involved in the choreography for parameterization of the choreographed function.</p> <p>This design pattern is described based on MTP interface components but is not limited to their use. The External Lead principle can also be applied to other standardized or proprietary interface concepts.</p>"},{"location":"artifacts/external-lead/#artifact-building-blocks","title":"Artifact Building Blocks","text":"<p> Figure: Design pattern for External Lead with ServiceControl interface and four variables for the Do-Done interaction pattern</p>"},{"location":"artifacts/external-lead/#component-external-lead","title":"Component - External Lead","text":"<p>The External Lead component consists of five structured variables. The <code>ServiceControl</code> variable is used for external service control. For interaction with other choreography participants, the <code>DoRequest</code> and <code>DoneReply</code> variables are used, each containing a binary variable per state machine state and based on the <code>ServiceStateStruct</code> data type. The <code>CommandEn</code> variable enables state transitions through control engineering connections, while the <code>Command</code> variable is for state transitions triggered from within the choreography. Both <code>CommandEn</code> and <code>Command</code> are based on the <code>ServiceCommandStruct</code> data type.</p>"},{"location":"artifacts/external-lead/#data-type-servicecontrol","title":"Data Type - ServiceControl","text":"<p>The ServiceControl data type corresponds to the MTP standard interface for an Automation Service. It contains variables for procedural control, service mode, and parameter management (details in VDI2658-4).</p>"},{"location":"artifacts/external-lead/#data-type-servicestatestruct","title":"Data Type - ServiceStateStruct","text":"<p>The <code>ServiceStateStruct</code> data type contains binary information for each of the 16 states of the MTP state machine of an automation service. This state machine is composed of 8 transient states, 7 static states, and 1 configurable state, which can be transient for self-terminating procedures or static for continuous procedures.</p>"},{"location":"artifacts/external-lead/#data-type-servicecommandstruct","title":"Data Type - ServiceCommandStruct","text":"<p>The <code>ServiceCommandStruct</code> data type contains binary information for each of the 22 state transitions of the MTP state machine. These transitions consist of 10 self-activating transitions and 12 trigger-activated transitions that are initiated by 10 different triggers.</p>"},{"location":"artifacts/external-lead/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/external-lead/#use-of-state-oriented-do-done-interaction-pattern","title":"Use of State-Oriented Do-Done Interaction Pattern","text":"<p>The Do-Done interaction pattern enables the consolidation of two automation services that represent the beginning and end in a sequence. While the initial service is activated by the Do-Request, the end service is returned via the Done-Reply. Additional automation services can be chained in between. A Do and Done pair for each state enables configuration of procedural relationships and exception handling sequences.</p>"},{"location":"artifacts/external-lead/#artifact-implementation-details","title":"Artifact Implementation Details","text":""},{"location":"artifacts/external-lead/#state-machine","title":"State Machine","text":"<p> Figure: Service state machine of the External Lead based on VDI2658-4</p> <p>The External Lead based on VDI2658-4 has a standardized state automaton for implementing state-based function abstraction. Behind each state is typically a sequence following step-transition logic for executing a procedural function. These sequences are initiated by a Start signal and reported as finished by an End signal, which are now openly available for interconnection with other choreography-participating services.</p>"},{"location":"artifacts/external-lead/#do-done-relation-sequence","title":"Do-Done Relation Sequence","text":"<p> Figure: Sequence diagram of an exemplary Do-Done relation of an External Lead using the Execute state</p> <p>Do-Done relations allow consolidation of different beginnings and ends of choreography relations between multiple automation services. Service 1 monitors the DoRequest.Execute information and executes a start when this information becomes true. At the end of sequential execution of Service 1, Service 2, and Service 3, the Completed information of Service 3 is used to activate the DoneReply.Execute of the External Lead.</p>"},{"location":"artifacts/external-lead/#command-enable-relations","title":"Command Enable Relations","text":"<p> Figure: Sequence diagram of an exemplary CommandEn relation using the Start state transition</p> <p>Configurable behavior rules can determine conditions from available information that provide different enables for triggering state transitions. Start enables of choreography-participating services are linked via AND logic to the CommandEn.Start information of the External Lead, ensuring choreography can only start when all participating services can also start.</p>"},{"location":"artifacts/external-lead/#internal-command-links","title":"Internal Command Links","text":"<p> Figure: Sequence diagram of an exemplary Command relation using Abort exception handling</p> <p>Internal state transitions can be triggered from available information. Aborting and Aborted states of choreography-participating services are linked via OR logic to the Command.Abort information of the External Lead, ensuring that if a service enters abort exception handling, the leader is notified and also switches to this state.</p>"},{"location":"artifacts/external-lead/#artifact-application","title":"Artifact Application","text":""},{"location":"artifacts/external-lead/#pea-integrated-variant","title":"PEA-Integrated Variant","text":"<p> Figure: Application embedded in the control program of a PEA</p> <p>An External Lead is placed parallel to the native program between the input and output of the configurable logic. DoRequests are provided in the input and DoneReplies in the output of the configurable logic.</p>"},{"location":"artifacts/external-lead/#virtual-controller-vplc-application","title":"Virtual Controller (vPLC) Application","text":"<p> Figure: Application as sole implementation in a virtual controller control program</p> <p>Similar to the PEA-integrated variant, but the External Lead serves as the only software module between input and output of the configurable logic. This can be implemented as a vPLC and provided as a container, allowing External Lead containers to be instantiated in virtual environments as needed.</p>"},{"location":"artifacts/external-lead/#virtual-lead-in-pol","title":"Virtual Lead in POL","text":"<p> Figure: Application as virtual services within the POL</p> <p>Based on virtual services concepts, virtual leads can be introduced in the POL. The External Lead is not a functional component of the choreography but merely packages it in procedural encapsulation. The signals are not subject to critical latency requirements and can be executed in the POL as a virtual lead.</p>"},{"location":"artifacts/overview/","title":"Artifact Overview","text":""},{"location":"artifacts/overview/#research-artifact-overview","title":"Research Artifact Overview","text":"<ul> <li> <p> Framework Pattern</p> <p>Automation Service Choreography Framework</p> <p> Go to Artifact</p> <p>Comprehensive representation of all components as an entry point for future developers and users of automation service choreographies</p> </li> <li> <p> Architecture Pattern</p> <p>Choreography-enabled System Architecture</p> <p> Go to Artifact</p> <p>Architecture Pattern which presents the architectural implications using Automation Service Choreographies</p> </li> <li> <p> Design Pattern</p> <p>Active Choreography Participant</p> <p> Go to Artifact</p> <p>Design Pattern which describes the mandatory capabilities to participate in a choreography</p> </li> <li> <p> Design Pattern</p> <p>Passive Choreography Participant</p> <p> Go to Artifact</p> <p>Design Pattern which describes the mandatory capabilities to integrate non-choreography-enabled equipment in a choreography</p> </li> <li> <p> Design Pattern</p> <p>External Lead</p> <p> Go to Artifact</p> <p>Design Pattern which is used to implement a leader service to represent the single point of access for a choreographed functionality</p> </li> <li> <p> Design Pattern</p> <p>Configurable Logic</p> <p> Go to Artifact</p> <p>Design Pattern to implement configurable logic for choreography participants</p> </li> <li> <p> Design Pattern</p> <p>Abstract Confgurable Communication</p> <p> Go to Artifact</p> <p>Abstract Design Pattern to implement configurable communication for active choreography participants</p> </li> <li> <p> Design Pattern</p> <p>Configurable Communication OPC UA CS</p> <p> Go to Artifact</p> <p>Design Pattern to implement configurable communication with OPC UA Client/Server for active choreography participants</p> </li> <li> <p> Design Pattern</p> <p>Configurable Communication OPC UA PS</p> <p> Go to Artifact</p> <p>Design Pattern to implement configurable communication with OPC UA Pub/Sub for active choreography participants</p> </li> <li> <p> Design Pattern</p> <p>Configurable Communication OPC UA FX</p> <p> Go to Artifact</p> <p>Design Pattern to implement configurable communication with OPC UA Field Exchange for active choreography participants</p> </li> </ul>"},{"location":"artifacts/passive-choreography-participant/","title":"Passive Choreography Participant","text":""},{"location":"artifacts/passive-choreography-participant/#artifact-passive-choreography-participant","title":"Artifact - Passive Choreography Participant","text":""},{"location":"artifacts/passive-choreography-participant/#artifact-factsheet","title":"Artifact Factsheet","text":"Fact Sheet Name Passive Choreography Participant Artifact Type Design Pattern Target Users System Architects, Software Architects, PLC Programmers Objective This artifact describes the necessary components and approaches to integrate non-choreography-capable equipment into a choreography using another active choreography participant as a decentralized orchestrator. This enables existing equipment to be used in choreographies while preserving investment protection."},{"location":"artifacts/passive-choreography-participant/#relevant-publications","title":"Relevant Publications","text":"<p>Content from this section has been published in [SFB+23] and [Stu23].</p>"},{"location":"artifacts/passive-choreography-participant/#artifact-description","title":"Artifact Description","text":"<p>The Passive Choreography Participant design pattern describes the conceptual building blocks for integrating non-choreography-capable legacy equipment into a choreography. This capability is of great importance for manufacturing companies in terms of investment protection. The integration of the passive participant is performed by the active participant. The active choreography participant serves as a decentralized orchestrator for the non-choreography-capable equipment and can be integrated into a choreography on behalf of the non-choreography-capable equipment.</p>"},{"location":"artifacts/passive-choreography-participant/#artifact-building-blocks","title":"Artifact Building Blocks","text":"<p>The Passive Choreography Participant design pattern consists of the actual passive participant and its control system, as well as an assigned active choreography participant, as shown in the figure below.</p> <p></p>"},{"location":"artifacts/passive-choreography-participant/#passive-choreography-participant-native-program","title":"Passive Choreography Participant - Native Program","text":"<p>The native program (orange area) represents the part of a control program that provides the automated functions of the modular unit, similar to the active participant case.</p>"},{"location":"artifacts/passive-choreography-participant/#passive-choreography-participant-passive-communication","title":"Passive Choreography Participant - Passive Communication","text":"<p>The passive communication (lower blue area) represents a communication interface that takes a passive role within information transmission. An example would be an OPC UA Server in the underlying control system. This component provides information from the native program part and forwards information from passive communication back to the native control software.</p>"},{"location":"artifacts/passive-choreography-participant/#active-choreography-participant-configurable-communication","title":"Active Choreography Participant - Configurable Communication","text":"<p>The configurable communication (upper blue area) provides the components for incoming and outgoing active communication from the assigned active choreography participant. In this case, the active choreography participant must have an active role in information transmission, for example an OPC UA Client, enabling it to actively push information to the passive participant and actively pull information from the passive participant.</p>"},{"location":"artifacts/passive-choreography-participant/#active-choreography-participant-configurable-logic","title":"Active Choreography Participant - Configurable Logic","text":"<p>The configurable logic (green area) represents the component for configurable information processing. The configurable logic uses information from itself, from other active choreography participants, and from the passive choreography participant.</p>"},{"location":"artifacts/passive-choreography-participant/#artifact-decisions","title":"Artifact Decisions","text":""},{"location":"artifacts/passive-choreography-participant/#assumptions-regarding-legacy-equipment-interfaces","title":"Assumptions Regarding Legacy Equipment Interfaces","text":"<p>Evaluation at Merck revealed a conceptual gap regarding the integration of legacy equipment. A temperature control FEA could not be integrated because it had an unchangeable embedded controller and could not be made choreography-capable.</p> <p>The selection of suitable communication technologies depends on the legacy system. The abstract Configurable Communication design pattern provides a flexible foundation for implementing available technologies analogously.</p> <p>No restriction to MTP or OPC UA can be made. Solutions must be designed flexibly and technology-agnostic. Software architects and PLC programmers must be prepared and supported to successfully integrate non-standardized legacy systems.</p>"},{"location":"artifacts/passive-choreography-participant/#static-vs-dynamic-integration","title":"Static vs. Dynamic Integration","text":"<p>Two fundamental approaches exist for integrating legacy equipment:</p> <p>Static Integration: Requires interfaces and communication technologies to be considered during development of choreography-capable systems. This is technically feasible but limits adaptability, as only equipment with previously known and prepared characteristics can be integrated.</p> <p>Dynamic Integration: Possible by combining decentralized orchestration with the capabilities of an active choreography participant. Flexibility with different interfaces can be realized through the Configurable Logic design pattern by linking command and state variables of the legacy system with other choreography participants as needed.</p> <p>Dynamic integration is preferred for legacy equipment integration. The combination of decentralized orchestration with active choreography participant capabilities and the Configurable Logic design pattern allows flexible interface linking and adaptation to different legacy systems.</p>"},{"location":"artifacts/passive-choreography-participant/#artifact-implementation-details","title":"Artifact Implementation Details","text":"<p>For integrating a passive choreography participant into a choreography, an active choreography participant becomes its decentralized orchestrator, incorporating its functions into the circle of other active choreography participants.</p> <p>The configurable logic and communication of an active choreography participant enable the integration of a passive participant. Data is transferred via pull communication to the active participant's input list, where behavioral rules for the passive participant are configured via the logic list. Results are then sent back via push communication through the output list.</p> <p>The active choreography participant requires additional communication functions, particularly supporting the communication technology that the passive choreography participant supports. Technology-independently, this means an active choreography participant must provide the respective active communication side of a passive choreography participant to be integrated.</p> <p>Communication failure between the orchestrating active choreography participant and its passive choreography participant leads to loss of controllability of the passive participant, requiring case-specific evaluation for exception handling.</p>"},{"location":"artifacts/passive-choreography-participant/#artifact-application","title":"Artifact Application","text":"<p>Three execution variants are available for applying this design pattern:</p>"},{"location":"artifacts/passive-choreography-participant/#variant-1-integrated-variant","title":"Variant 1 - Integrated Variant","text":"<p>The Integrated Variant extends existing PEAs, FEAs, or COMPs with decentralized orchestrator functions for passive choreography participants. An active choreography participant can become a decentralized orchestrator for legacy equipment.</p> <p>Advantages: Utilizes existing control systems Disadvantages: Additional load on limited resources for communication and logic; communication technology must be considered during engineering</p>"},{"location":"artifacts/passive-choreography-participant/#variant-2-standalone-variant","title":"Variant 2 - Standalone Variant","text":"<p>The Standalone Variant uses a separately developed active choreography participant (proxy PEA) that contains the communication technology required for integrating legacy equipment alongside basic functions. This must be configurable for reuse with specific technologies.</p> <p>Advantages: Relieves other choreography participants; easy retrofitting without interventions in existing equipment Disadvantages: Additional system resource requirements and associated operating costs</p>"},{"location":"artifacts/passive-choreography-participant/#variant-3-type-specific-variant","title":"Variant 3 - Type-Specific Variant","text":"<p>The Type-Specific Variant corresponds to the Standalone Variant but forgoes a configurable communication interface for the legacy equipment to be integrated. It is used when certain communication technologies or their implementation in control systems do not allow configurability. The communication technology is statically implemented for a specific type of legacy equipment.</p> <p>Advantages: Extended selection of communication technologies that become usable despite static implementation Disadvantages: Fixed to concrete legacy equipment, though flexibility toward choreography is retained</p>"},{"location":"context/context/","title":"Application Context","text":""},{"location":"context/context/#context-use-cases-under-investigation","title":"Context &amp; Use Cases under Investigation","text":""},{"location":"context/context/#overview","title":"Overview","text":"<p>This document summarizes the three central use cases that were analyzed as part of the problem understanding. These examples serve amoung others as the basis for deriving requirements for a solution to integrate automation services within there FEAs and COMPs into PEAs and modular production systems.</p>"},{"location":"context/context/#use-case-modular-pea","title":"Use Case: Modular PEA","text":"<p>This use case describes the execution of a neutralization reaction consisting of four Functional Equipment Assemblies (FEAs). It is relevant for applications in laboratories, pilot plants, and production environments within the specialty chemicals and pharmaceutical industries. The details for this scenario were gathered from interviews with responsibles of the stakeholder group.</p>"},{"location":"context/context/#relevance-and-benefits","title":"Relevance and Benefits","text":"<p>This use case offers significant benefits, such as easier and faster adaptation to changing process conditions and material properties, as well as improved reusability of existing equipment. This ultimately results in a long-term reduction of investment costs for expensive equipment and apparatus.</p>"},{"location":"context/context/#simplified-process-instrumentation-diagram","title":"Simplified Process &amp; Instrumentation Diagram","text":"<p>The system comprises two Dosing FEAs for the controlled addition of liquids, one Reaction FEA with continuous stirring and sensor services, and one Temperature Control FEA for cooling the exothermic reaction. Additionally, Sensor Services are integrated for temperature and pH monitoring.</p>"},{"location":"context/context/#process-flow","title":"Process Flow","text":"<p>The process flow begins with the sequential start of all services, followed by the dosing of acid and base. After dosing, stirring continues for 10 minutes before all services are terminated.</p> <p>For exception handling, if any service enters a Hold, Stop, or Abort state, all other services are also placed in a Hold state. Specifically, the dosing services are paused in an overtemperature event, a control mechanism managed by providing the temperature value to the dosing services. Regarding interlocking, the pumps of the dosing FEAs (A and B) are interlocked with the associated inlet valves of the reaction FEA (R).</p>"},{"location":"context/context/#use-case-configurable-pea","title":"Use Case: Configurable PEA","text":"<p>This use case is relevant for applications in laboratories, pilot plants, and production environments within the specialty chemicals and pharmaceutical industries. It serves as an example of a PEA type with a structural specification according to NAMUR NE187, offering procedural flexibility. The details for this scenario were gathered from interviews with responsible from the stakeholder group.</p>"},{"location":"context/context/#relevance-and-benefits_1","title":"Relevance and Benefits","text":"<p>This use case provides extensive flexibility without requiring structural modifications, which offers significant advantages in setup and commissioning times. This is achieved through the configurative integration of fine-grained automation services, which are centrally orchestrated by a Unit-Procedure service.</p>"},{"location":"context/context/#simplified-process-instrumentation-diagram_1","title":"Simplified Process &amp; Instrumentation Diagram","text":"<p> The system is composed of two Dosing Services for acid and base, a Stirring Service for mixing, and a Temperature Control Service. Furthermore, a configurable Measurement Service is integrated for pH value acquisition. A central Unit-Procedure Service orchestrates all these individual services.</p>"},{"location":"context/context/#process-flow_1","title":"Process Flow","text":"<p>The process begins when the POL starts the Unit-Procedure service, which in turn initiates the internal services for dosing and stirring. Termination is handled by internal functions, followed by a reset command from the POL. For exception handling, if any service enters a Pause, Hold, Stop, or Abort state, all other services are placed in a Hold state. Specifically, the dosing services pause during an overtemperature event, and the dosing pumps are interlocked to stop under the same condition. No external connections are necessary for control or regulation.</p>"},{"location":"context/context/#use-case-transport-operation","title":"Use Case: Transport Operation","text":"<p>This use case is relevant for applications in laboratories, pilot plants, and production environments within the specialty chemicals and pharmaceutical industries. It describes the linking of emptying and filling services at transitions between different PEAs. The details for this scenario were gathered from interviews with responsibles from the stakeholder group.</p>"},{"location":"context/context/#relevance-and-benefits_2","title":"Relevance and Benefits","text":"<p>This use case is particularly relevant as material-transporting automation services are expected to constitute the majority of future services. The approach promises a reduction in engineering and operational efforts through the use of numerous small-scale service functions. This improves operational efficiency by coordinating incoming and outgoing material flows at PEA transitions.</p>"},{"location":"context/context/#simplified-process-instrumentation-diagram_2","title":"Simplified Process &amp; Instrumentation Diagram","text":"<p>The overall system comprises eight PEAs, which include a total of 14 emptying/filling services compared to just four process function services.</p> <p></p> <p>The transport operation between the supply unit B and the reactor unit R1 is considered in more detail below.</p> <p></p>"},{"location":"context/context/#process-flow_2","title":"Process Flow","text":"<p>The process flow begins with the start of the filling service at reactor unit R1. The emptying service at supply unit B then doses the material until a specified amount is reached. Afterward, the filling service is terminated, and both services are reset.</p> <p>For exception handling, if one service enters a Pause, Hold, Stop, or Abort state, the other service is placed in a Hold state. Control and regulation are achieved by linking the fill level value from R1 with the external actual value from B. Regarding interlocking, the position of the inlet valve at R1 is linked with the pump interlock of the outlet at B.</p>"},{"location":"implementations/tia-portal/tia-portal-overview/","title":"SIMATIC TIA Portal","text":""},{"location":"implementations/tia-portal/tia-portal-overview/#tia-portal-implementation-overview","title":"TIA Portal Implementation Overview","text":"<p>This page lists all source code files of the exemplary TIA Portal implementation of the Automation Service Choreography Framework.</p> <p>Disclaimer</p> <p>The source code provided here is intended solely for illustration and to improve the comprehensibility of the mechanisms, concepts, and approaches described in the dissertation. It is explicitly not designed as production-ready or usable software library and should not be used in productive environments or safety-critical applications.  </p> <p>For further details, please refer to the license: Link to License</p>"},{"location":"implementations/tia-portal/tia-portal-overview/#source-code-files","title":"Source Code Files","text":"Filename Link Description ASCF_ParticipantManager.scl View Base manager for choreography participants MTPChoreographyParticipantManager.scl View MTP-based choreography participant manager"},{"location":"implementations/tia-portal/tia-portal-overview/#configurable-communication-opc-ua-clientserver","title":"Configurable Communication (OPC UA Client/Server)","text":""},{"location":"implementations/tia-portal/tia-portal-overview/#main-function-blocks","title":"Main Function Blocks","text":"Filename Link Description ASCF_OpcUaClientServerManager.scl View OPC UA Client/Server communication manager MTPOpcUaClientServerManager.scl View MTP OPC UA communication manager"},{"location":"implementations/tia-portal/tia-portal-overview/#internal-implementation","title":"Internal Implementation","text":"Filename Link Description _ASCF_CC_OPCUACS_EnumConnectionHandleStates.scl View Enumeration for connection handle states _ASCF_CC_OPCUACS_ScheduleAlgorithmType1.scl View Scheduling algorithm type 1 _ASCF_CC_OPCUACS_ScheduleAlgorithmType2.scl View Scheduling algorithm type 2 ASCF_CC_OPCUACS_ConnectionConfig.scl View Connection configuration for OPC UA ASCF_CC_OPCUACS_ConnectionHandle.scl View Connection handle for OPC UA ASCF_CC_OPCUACS_ConnectionInterface.scl View Connection interface ASCF_CC_OPCUACS_Connections.scl View Connection management ASCF_CC_OPCUACS_Connections_clean.scl View Clean connection implementation ASCF_CC_OPCUACS_ConnectionStatus.scl View Connection status ASCF_CC_OPCUACS_Constants.scl View Constants for OPC UA communication ASCF_CC_OPCUACS_EnumErrors.scl View Error codes for OPC UA ASCF_CC_OPCUACS_QuerySchedule.scl View Schedule query functionality ASCF_CC_OPCUACS_Reader.scl View OPC UA reader functionality ASCF_CC_OPCUACS_ReaderConfig.scl View Reader configuration ASCF_CC_OPCUACS_ReaderStatus.scl View Reader status ASCF_CC_OPCUACS_ScheduleData.scl View Schedule data ASCF_CC_OPCUACS_ScheduleDataType1.scl View Schedule data type 1 ASCF_CC_OPCUACS_ScheduleDataType2.scl View Schedule data type 2 ASCF_CC_OPCUACS_Scheduler.scl View Communication scheduler ASCF_CC_OPCUACS_Writer.scl View OPC UA writer functionality ASCF_CC_OPCUACS_WriterConfig.scl View Writer configuration ASCF_CC_OPCUACS_WriterStatus.scl View Writer status"},{"location":"implementations/tia-portal/tia-portal-overview/#configurable-logic","title":"Configurable Logic","text":""},{"location":"implementations/tia-portal/tia-portal-overview/#main-function-blocks_1","title":"Main Function Blocks","text":"Filename Link Description ASCF_ConfigurableLogic.scl View Main function block for configurable logic functions"},{"location":"implementations/tia-portal/tia-portal-overview/#internal-implementation-arithmetic-operations","title":"Internal Implementation - Arithmetic Operations","text":"Filename Link Description ASCF_CL_10_ADD.scl View Addition ASCF_CL_11_SUB.scl View Subtraction ASCF_CL_12_MUL.scl View Multiplication ASCF_CL_13_DIV.scl View Division ASCF_CL_14_MOD.scl View Modulo"},{"location":"implementations/tia-portal/tia-portal-overview/#internal-implementation-logical-operations","title":"Internal Implementation - Logical Operations","text":"Filename Link Description ASCF_CL_30_NOT.scl View Logical NOT ASCF_CL_31_AND.scl View Logical AND ASCF_CL_32_OR.scl View Logical OR ASCF_CL_33_NAND.scl View Logical NAND ASCF_CL_34_NOR.scl View Logical NOR ASCF_CL_35_XOR.scl View Logical XOR ASCF_CL_36_XNOR.scl View Logical XNOR ASCF_CL_37_FE.scl View Falling edge ASCF_CL_38_RE.scl View Rising edge"},{"location":"implementations/tia-portal/tia-portal-overview/#internal-implementation-comparison-operations","title":"Internal Implementation - Comparison Operations","text":"Filename Link Description ASCF_CL_50_EE.scl View Equality ASCF_CL_51_NE.scl View Not equal ASCF_CL_52_GT.scl View Greater than ASCF_CL_53_GTE.scl View Greater than or equal ASCF_CL_54_LT.scl View Less than ASCF_CL_55_LTE.scl View Less than or equal ASCF_CL_56_EE_BIT.scl View Bit equality"},{"location":"implementations/tia-portal/tia-portal-overview/#internal-implementation-control-structures","title":"Internal Implementation - Control Structures","text":"Filename Link Description ASCF_CL_100_IF1.scl View IF condition type 1 ASCF_CL_101_IF2.scl View IF condition type 2 ASCF_CL_102_IF3.scl View IF condition type 3 ASCF_CL_103_IF4.scl View IF condition type 4 ASCF_CL_104_IF5.scl View IF condition type 5 ASCF_CL_105_IF6.scl View IF condition type 6 ASCF_CL_106_IF7.scl View IF condition type 7 ASCF_CL_107_IF8.scl View IF condition type 8 ASCF_CL_108_IF9.scl View IF condition type 9"},{"location":"implementations/tia-portal/tia-portal-overview/#internal-implementation-data-types-and-enumerations","title":"Internal Implementation - Data Types and Enumerations","text":"Filename Link Description ASCF_CL_ArgumentType.scl View Argument type definition ASCF_CL_EnumErrors.scl View Error codes for configurable logic ASCF_CL_EnumFunctionTypes.scl View Function type enumeration ASCF_CL_EnumSourceTypes.scl View Source type enumeration ASCF_CL_FunctionType.scl View Function type definition ASCF_CL_FunctionTypeConfig.scl View Function type configuration ASCF_CL_OutputType.scl View Output type definition"},{"location":"implementations/tia-portal/tia-portal-overview/#external-leader-implementation","title":"External Leader Implementation","text":"Filename Link Description ASCF_ExternalLeader.scl View External leadership logic for choreography participants"},{"location":"implementations/tia-portal/tia-portal-overview/#base-components-and-utilities","title":"Base Components and Utilities","text":"Filename Link Description ASCF_CalcWQC.scl View Calculation of value quality codes ASCF_EnumUnionTypes.scl View Enumeration types for union data structures ASCF_GetValueOutputList.scl View Helper function for value output lists ASCF_GetVBoolOutputList.scl View Extract boolean values from output lists ASCF_GetVDIntOutputList.scl View Extract DInt values from output lists ASCF_GetVDWordOutputList.scl View Extract DWord values from output lists ASCF_GetVRealOutputList.scl View Extract Real values from output lists ASCF_GetVStringOutputList.scl View Extract String values from output lists ASCF_QualityCodes.scl View Quality code definitions ASCF_UnionType.scl View Union data type for various value types ASCF_WriteValue.scl View Helper function for writing values"},{"location":"implementations/twincat/twincat-overview/","title":"BECKHOFF TwinCat","text":""},{"location":"implementations/twincat/twincat-overview/#twincat-implementation-overview","title":"TwinCAT Implementation Overview","text":"<p>This page lists all source code files of the exemplary TwinCAT implementation of the Automation Service Choreography Framework.</p> <p>Disclaimer</p> <p>The source code provided here is intended solely for illustration and to improve the comprehensibility of the mechanisms, concepts, and approaches described in the dissertation. It is explicitly not designed as production-ready or usable software library and should not be used in productive environments or safety-critical applications.  </p> <p>For further details, please refer to the license: Link to License</p>"},{"location":"implementations/twincat/twincat-overview/#active-choreography-participant-implementation","title":"Active Choreography Participant - Implementation","text":"Name Link Description ASCF_ParticipantManager View Core participant manager for choreography coordination MTPChoreographyParticipantManager View MTP-specific choreography participant data structure"},{"location":"implementations/twincat/twincat-overview/#configurable-communication-opc-ua-clientserver","title":"Configurable Communication (OPC UA Client/Server)","text":""},{"location":"implementations/twincat/twincat-overview/#main-function-blocks","title":"Main Function Blocks","text":"Name Link Description ASCF_OpcUaClientServerManager View OPC UA client-server communication manager MTPOpcUaClientServerManager View MTP OPC UA client-server data structure"},{"location":"implementations/twincat/twincat-overview/#internal-implementation","title":"Internal Implementation","text":"Name Link Description ASCF_CC_OPCUACS_ConnectionConfig View OPC UA connection configuration ASCF_CC_OPCUACS_ConnectionHandle View OPC UA connection handle ASCF_CC_OPCUACS_ConnectionInterface View OPC UA connection interface ASCF_CC_OPCUACS_Connections View OPC UA connections manager ASCF_CC_OPCUACS_ConnectionStatus View OPC UA connection status ASCF_CC_OPCUACS_Constants View OPC UA constants ASCF_CC_OPCUACS_EnumConnectionHandleStates View Connection handle state enumeration ASCF_CC_OPCUACS_EnumErrors View OPC UA error enumeration ASCF_CC_OPCUACS_QuerySchedule View Query schedule function ASCF_CC_OPCUACS_Reader View OPC UA reader function ASCF_CC_OPCUACS_ReaderConfig View Reader configuration ASCF_CC_OPCUACS_ReaderStatus View Reader status ASCF_CC_OPCUACS_Reader_Interface View Reader interface ASCF_CC_OPCUACS_Reader_Internals View Reader internal data ASCF_CC_OPCUACS_Reader_Temp View Reader temporary data ASCF_CC_OPCUACS_Reader_Temp_Bool View Boolean reader temporary data ASCF_CC_OPCUACS_Reader_Temp_Dint View Double integer reader temporary data ASCF_CC_OPCUACS_Reader_Temp_Dword View Double word reader temporary data ASCF_CC_OPCUACS_Reader_Temp_Real View Real reader temporary data ASCF_CC_OPCUACS_Reader_Temp_String View String reader temporary data ASCF_CC_OPCUACS_ScheduleAlgorithmType1 View Schedule algorithm type 1 ASCF_CC_OPCUACS_ScheduleAlgorithmType2 View Schedule algorithm type 2 ASCF_CC_OPCUACS_ScheduleData View Schedule data structure ASCF_CC_OPCUACS_ScheduleDataType1 View Schedule data type 1 ASCF_CC_OPCUACS_ScheduleDataType2 View Schedule data type 2 ASCF_CC_OPCUACS_Scheduler View OPC UA scheduler ASCF_CC_OPCUACS_Writer View OPC UA writer function ASCF_CC_OPCUACS_WriterConfig View Writer configuration ASCF_CC_OPCUACS_WriterStatus View Writer status ASCF_CC_OPCUACS_Writer_Interface View Writer interface ASCF_CC_OPCUACS_Writer_Internals View Writer internal data ASCF_CC_OPCUACS_Writer_Temp View Writer temporary data ASCF_CC_OPCUACS_Writer_Temp_Bool View Boolean writer temporary data ASCF_CC_OPCUACS_Writer_Temp_Dint View Double integer writer temporary data ASCF_CC_OPCUACS_Writer_Temp_Dword View Double word writer temporary data ASCF_CC_OPCUACS_Writer_Temp_Real View Real writer temporary data ASCF_CC_OPCUACS_Writer_Temp_String View String writer temporary data"},{"location":"implementations/twincat/twincat-overview/#configurable-logic","title":"Configurable Logic","text":""},{"location":"implementations/twincat/twincat-overview/#main-function-blocks_1","title":"Main Function Blocks","text":"Name Link Description ASCF_ConfigurableLogic View Main configurable logic manager"},{"location":"implementations/twincat/twincat-overview/#internal-implementation-arithmetic-operations","title":"Internal Implementation - Arithmetic Operations","text":"Name Link Description ASCF_CL_10_ADD View Addition operation ASCF_CL_11_SUB View Subtraction operation ASCF_CL_12_MUL View Multiplication operation ASCF_CL_13_DIV View Division operation ASCF_CL_14_MOD View Modulo operation"},{"location":"implementations/twincat/twincat-overview/#internal-implementation-logical-operations","title":"Internal Implementation - Logical Operations","text":"Name Link Description ASCF_CL_30_NOT View Logical NOT operation ASCF_CL_31_AND View Logical AND operation ASCF_CL_32_OR View Logical OR operation ASCF_CL_33_NAND View Logical NAND operation ASCF_CL_34_NOR View Logical NOR operation ASCF_CL_35_XOR View Logical XOR operation ASCF_CL_36_XNOR View Logical XNOR operation"},{"location":"implementations/twincat/twincat-overview/#internal-implementation-comparison-operations","title":"Internal Implementation - Comparison Operations","text":"Name Link Description ASCF_CL_37_FE View Falling edge detection ASCF_CL_38_RE View Rising edge detection ASCF_CL_50_EE View Equal comparison ASCF_CL_51_NE View Not equal comparison ASCF_CL_52_GT View Greater than comparison ASCF_CL_53_GTE View Greater than or equal comparison ASCF_CL_54_LT View Less than comparison ASCF_CL_55_LTE View Less than or equal comparison ASCF_CL_56_EE_BIT View Bitwise equal comparison"},{"location":"implementations/twincat/twincat-overview/#internal-implementation-control-structures","title":"Internal Implementation - Control Structures","text":"Name Link Description ASCF_CL_100_IF1 View Conditional logic function IF1 ASCF_CL_101_IF2 View Conditional logic function IF2 ASCF_CL_102_IF3 View Conditional logic function IF3 ASCF_CL_103_IF4 View Conditional logic function IF4 ASCF_CL_104_IF5 View Conditional logic function IF5 ASCF_CL_105_IF6 View Conditional logic function IF6 ASCF_CL_106_IF7 View Conditional logic function IF7 ASCF_CL_107_IF8 View Conditional logic function IF8 ASCF_CL_108_IF9 View Conditional logic function IF9"},{"location":"implementations/twincat/twincat-overview/#internal-implementation-data-types-and-enumerations","title":"Internal Implementation - Data Types and Enumerations","text":"Name Link Description ASCF_CL_ArgumentType View Argument type definition ASCF_CL_EnumErrors View Configurable logic error enumeration ASCF_CL_EnumFunctionTypes View Function type enumeration ASCF_CL_EnumSourceTypes View Source type enumeration ASCF_CL_FunctionType View Function type definition ASCF_CL_FunctionTypeConfig View Function type configuration ASCF_CL_OutputType View Output type definition ASCF_CL_OutputTypeConfig View Output type configuration"},{"location":"implementations/twincat/twincat-overview/#base-components-and-utilities","title":"Base Components and Utilities","text":"Name Link Description ASCF_CalcWQC View Quality code calculation function ASCF_EnumErrors View Error code enumeration ASCF_EnumUnionTypes View Union type enumeration ASCF_GetValueOutputList View Generic value output list retrieval ASCF_GetVBoolOutputList View Boolean value output list retrieval ASCF_GetVDIntOutputList View Double integer value output list retrieval ASCF_GetVDWordOutputList View Double word value output list retrieval ASCF_GetVRealOutputList View Real value output list retrieval ASCF_GetVStringOutputList View String value output list retrieval ASCF_QualityCodes View Quality code definitions ASCF_State_Internals View Internal state data structure ASCF_UnionType View Union type data structure ASCF_WriteValue View Value writing function CreateDTL View Date and time creation utility DeltaDTL View Date and time delta calculation DTL View Date and time data structure DTL_to_TIME View Date-time to time conversion SYS_TIME_Store_DTL View System time storage utility"},{"location":"methodology/design-science-research/","title":"Research Methodology","text":""},{"location":"methodology/design-science-research/#design-science-research-by-dresch-et-al","title":"Design Science Research by Dresch et al.","text":"<p>This research work employs the Design Science Research (DSR) methodology according to Dresch et al. DSR methods generally focus on the systematic solution of a relevant problem and the development of a solving artifact. This approach systematically incorporates existing knowledge while simultaneously generating new knowledge. Dresch et al. describe a process model and corresponding quality criteria that must be examined during progress.</p>"},{"location":"methodology/design-science-research/#design-science-research-methodology-framework","title":"Design Science Research Methodology Framework","text":"<p>The DSR methodology according to Dresch et al. consists of twelve steps, as illustrated in the figure below. Solid lines represent the linear application path of the methodology, while dashed lines indicate iteration paths. Iterations are necessary when new insights during progress require previously completed steps to be repeated.</p> <p>Referenced Literature: Aline Dresch, Daniel Pacheco Lacerda und Jose Antonio Valle Antunes Jr: \u201dDesign Science Research\u201d. Cham: Springer International Publishing, 2015.  </p>"},{"location":"methodology/design-science-research/#design-science-research-process","title":"Design Science Research Process","text":"<p>The following figure presents the process of Design Science Reseach by Dresch et al.  </p> <p></p> <p> </p> <p>Figure: Methodology for approaching a research project following DSR principles according to Dresch et al.</p> <p></p>"},{"location":"methodology/design-science-research/#phase-1-problem-understanding-steps-1-4","title":"Phase 1: Problem Understanding (Steps 1-4)","text":""},{"location":"methodology/design-science-research/#step-1-identification-of-the-problem","title":"Step 1: Identification of the Problem","text":"<ul> <li>Results in the initial research hypothesis as an approach to solving the relevant problem</li> </ul>"},{"location":"methodology/design-science-research/#step-2-awareness-of-the-problem","title":"Step 2: Awareness of the Problem","text":"<ul> <li>Describes the necessity of having completely captured and understood the problem</li> <li>Includes stakeholder involvement</li> </ul>"},{"location":"methodology/design-science-research/#step-3-systematic-literature-review","title":"Step 3: Systematic Literature Review","text":"<ul> <li>Supports comprehensive problem understanding</li> <li>Iteratively performed with Step 2 until complete problem understanding and artifact requirements are established</li> </ul>"},{"location":"methodology/design-science-research/#step-4-identification-of-the-artifacts-and-configuration-of-the-classes-of-problems","title":"Step 4: Identification of the Artifacts and Configuration of the Classes of Problems","text":"<ul> <li>Focuses on analyzing the state of knowledge</li> <li>Existing knowledge from literature is compared with the problem using defined characteristics</li> <li>Similar knowledge forms \"problem classes\" - collections of existing knowledge about possible solutions</li> <li>Identifies previously used artifact types for own research</li> </ul>"},{"location":"methodology/design-science-research/#phase-2-artifact-development-steps-5-8","title":"Phase 2: Artifact Development (Steps 5-8)","text":""},{"location":"methodology/design-science-research/#step-5-proposition-of-artifacts-to-solve-a-specific-problem","title":"Step 5: Proposition of Artifacts to solve a specific problem","text":"<ul> <li>Begins actual development work in DSR</li> <li>Evaluates one or more artifact proposals created through creative processes</li> <li>Results in a formulated approach to problem solution and necessary artifacts</li> </ul>"},{"location":"methodology/design-science-research/#step-6-design-of-the-selected-artifacts","title":"Step 6: Design of the selected Artifacts","text":"<ul> <li>Detailed elaboration and description of necessary artifacts</li> <li>Based on requirements and stakeholder expectations from Steps 2-3</li> </ul>"},{"location":"methodology/design-science-research/#step-7-development-of-the-artifacts","title":"Step 7: Development of the Artifacts","text":"<ul> <li>Must be developed for use in the problem-relevant application context</li> <li>Forms the basis for subsequent evaluation</li> </ul>"},{"location":"methodology/design-science-research/#step-8-evaluation-of-the-artifacts","title":"Step 8: Evaluation of the Artifacts","text":"<ul> <li>Examines whether the artifact represents a satisfactory solution</li> <li>Tests both requirements/expectations and desired function for problem solution</li> </ul>"},{"location":"methodology/design-science-research/#phase-3-knowledge-generation-steps-9-12","title":"Phase 3: Knowledge Generation (Steps 9-12)","text":""},{"location":"methodology/design-science-research/#step-9-clarification-of-learning-achieved","title":"Step 9: Clarification of Learning Achieved","text":"<ul> <li>Documents scientific and practical experiences</li> <li>Important for future work by self and others</li> </ul>"},{"location":"methodology/design-science-research/#step-10-conclusions","title":"Step 10: Conclusions","text":"<ul> <li>Identifies positively influencing decisions and measures that led to successful artifact evaluation</li> </ul>"},{"location":"methodology/design-science-research/#step-11-generalization-for-a-class-of-problems","title":"Step 11: Generalization for a class of problems","text":"<ul> <li>Generalizes processed insights, results, and positive influence factors</li> <li>Formulates them for a class of problems</li> </ul>"},{"location":"methodology/design-science-research/#step-12-communication-of-the-results","title":"Step 12: Communication of the results","text":"<ul> <li>Makes generalized content accessible to the professional community</li> <li>Expands existing knowledge for the corresponding problem class</li> <li>Targets both researchers and practitioners in producing companies</li> </ul>"},{"location":"methodology/design-science-research/#key-characteristics","title":"Key Characteristics","text":"<p>The DSR methodology explicitly addresses the tension between theory and practice. The goal is not only problem-solving but also preparing content so that results and insights are applicable for both science and practice.</p> <p>The twelve steps systematically process an identified problem and make the gained insights and results available to the professional community. The methodology ensures rigorous research while maintaining practical relevance.</p>"},{"location":"methodology/research-hypothesis/","title":"Research Hypothesis","text":"<p>This page describes the research problem in its corresponding application context. The relevance of its solution considering entrepreneurial framework conditions and the limitations of current approaches are presented. A hypothesis is formulated that represents a possible problem solution. The chapter lays the foundation for the applied DSR process.</p>"},{"location":"methodology/research-hypothesis/#application-context","title":"Application Context","text":"<p>The work focuses on the process industry, which encompasses diverse sectors where intermediate and end products are manufactured through controlled material transformations. Product volumes range from millions of tons annually in petrochemicals to a few kilograms in specialty chemicals and pharmaceutical industry, with prices ranging from cent amounts to hundreds of thousands of euros per kilogram.</p> <p>Plant types also vary greatly: from specialized continuous plants with few process steps in petrochemicals to complex multi-product multi-train plants with over 20 process steps in specialty chemicals and pharmaceutical industry. This broad spectrum illustrates the great heterogeneity of the process industry.</p> <p>Therefore, this work concentrates on specialty chemicals and pharmaceutical industry. Products in the field of specialty chemicals and pharmaceutical industry are increasingly characterized by customer-specific properties, leading to growing product diversification and decreasing product volumes. Simultaneously, the complexity and volatility of global markets as well as competitive pressure are steadily increasing.</p> <p>Summary</p> <p>The application context of this work is the automation of modular production systems in specialty and pharmaceutical industry for the systematic implementation of flexibility and adaptability.</p>"},{"location":"methodology/research-hypothesis/#current-approaches-to-implement-flexibility-and-adaptability","title":"Current Approaches to implement Flexibility and Adaptability","text":"<p>For almost 20 years, the process industry has been using flexible production systems based on standardized models and automation mechanisms:</p>"},{"location":"methodology/research-hypothesis/#isa-88-standard-iec-61512-1-1997","title":"ISA-88 Standard (IEC 61512-1, 1997)","text":"<ul> <li>Introduced procedural abstraction based on state machines</li> <li>Defined automation functions at various granularity levels</li> <li>Enables flexible adaptation to processes through predefined operating modes and parameters</li> <li>Coordination control, procedure control, and basic automation work together</li> <li>Remains bound to monolithically built production structures</li> </ul> <p> Figure: Current approaches based on the automation concept for batch-based production (IEC 61512-1) (left) and the MTP concept (VDI 2658) (right) with their respective central components (red) and distributed components (yellow)</p>"},{"location":"methodology/research-hypothesis/#mtp-concept-vdi-2658-2019-and-vdi-2776-1-2022","title":"MTP Concept (VDI 2658, 2019 and VDI 2776-1, 2022)","text":"<p>The Module Type Package (MTP) concept focuses on:</p> <ul> <li>Fully implemented state machines representing encapsulated automation functions</li> <li>Enable cross-control connections of basic automation</li> <li>Process values are transmitted by the POL from one process value output of a PEA to a process value input of another PEA</li> <li>Granularity of automation functions follows the functional gradation from PEA to COMP</li> <li>The POL is responsible for bringing together automation services and creating executable overall automation</li> </ul>"},{"location":"methodology/research-hypothesis/#identification-of-the-research-problem","title":"Identification of the Research Problem","text":"<p>An increasing use of intelligent FEAs and COMPs within an MP while maintaining central orchestration in the POL leads to higher efforts in engineering and especially in the operation of the central orchestration of the POL.</p> <p> Figure: Future approach of central orchestration with increasing intelligent FEAs and COMPs</p>"},{"location":"methodology/research-hypothesis/#problem-drivers","title":"Problem Drivers","text":"<p>Increased Complexity</p> <p>Significant increase in the number of procedural fine-grained functions Increase in necessary cross-functional continuous interconnections of basic automation</p> <p>Virtualization Effects</p> <p>Shift from process-near computing capacities to distant central data center capacities Longer latency times between POL and automation systems Restrictions on the use of highly flexible process functions and stable controls with small time constants</p> <p>Engineering Challenges</p> <p>Additional requirements regarding function sequences, exception handling, and continuous interconnection Higher communication and engineering efforts</p>"},{"location":"methodology/research-hypothesis/#research-problem","title":"Research Problem","text":"<p>Statement</p> <p>The disproportionately high efforts in engineering and operation of the POL, due to the increased use of FEAs and COMPs, limit the flexibility and adaptability of modular production systems. The limitation of flexibility and adaptability in turn endangers the competitiveness of manufacturing companies, which is why this problem has both practical and economic relevance.</p>"},{"location":"methodology/research-hypothesis/#development-of-the-research-hypothesis","title":"Development of the Research Hypothesis","text":""},{"location":"methodology/research-hypothesis/#orchestration-vs-choreography","title":"Orchestration vs. Choreography","text":"<p>The central orchestration task of the POL lies in bringing together and coordinating automation services and process value interconnections with the goal of producing a product.</p> <p>Modular production systems exhibit structures comparable to Microservice Architecture (MSA). In web technologies, orchestration and choreography are two methods for combining distributed service functions. According to literature, within an MSA, the choreography approach is preferable to orchestration when it comes to linking web services.</p> <p> Figure: Principles of orchestration and choreography in comparison (Hexagons: Services, Brain: Execution and scope of association rules, Arrows: Type of interaction pattern - unidirectional: Monitor-Act, bidirectional: Request-Reply)</p>"},{"location":"methodology/research-hypothesis/#definitions","title":"Definitions","text":"<p>Orchestration Definition</p> <p>Orchestration is an association method that exists when (n+1) services are necessary to realize a composite service function. The additional (+1) service is the only one responsible for the execution of the subordinate (n) services.</p> <ul> <li>Orchestration: Central control with request-reply pattern, all orchestration rules in one service</li> </ul> <p>Choreography Definition</p> <p>Choreography is an association method that exists when (n) services, based on the choreography rules of their own role, distribute the responsibility for realizing a composite service function among themselves.</p> <ul> <li>Choreography: Distributed control with monitor-act pattern, behavior rules distributed across all participating services</li> </ul>"},{"location":"methodology/research-hypothesis/#research-hypothesis","title":"Research Hypothesis","text":"<p>Research Hypothesis</p> <p>A choreography approach can reduce the efforts for bringing together fine-grained automation services and their process value interconnection in engineering and operation related to the central orchestration of the POL and thus expand the limits regarding flexibility and adaptability.</p>"},{"location":"methodology/research-hypothesis/#summary","title":"Summary","text":"<p>The research addresses the fundamental challenge of increasing complexity in modular production systems as they become more distributed and intelligent. The hypothesis proposes that moving from centralized orchestration to distributed choreography could provide a solution to scalability and efficiency problems while maintaining or improving system flexibility and adaptability.  </p>"},{"location":"publications/appendix_etfa2021/","title":"Appendix etfa2021","text":""},{"location":"publications/appendix_etfa2021/#appendix-of-the-etfa2021-publication","title":"Appendix of the ETFA2021 Publication","text":"<p>This section is complementary to the paper 'Software Patterns for the Realization of Automation Service Choreographies' at IEEE Conference of Emerging Technologies and Factory Automation ETFA 2021</p>"},{"location":"publications/appendix_etfa2021/#process-technology-function","title":"Process Technology Function","text":"<p>The presented setup of PEAs in Figure 1 shows a PEA-spanning associated Automation Service realizing a neutralization function. The process function is used to set and control the pH value of the liquid within the reactor tank. </p> <p>Depending on the initial situation one liquid is dosed from the storage tank of PEA2 into the reactor of PEA1. If the liquid in the reactor is an alkaline material an acidic liquid is dosed. If the liquid in the reactor is an acidic one, an alkaline liquid is dosed. </p> <p>In dependence of the pH value, the liquid flow from the storage tank into the reactor is controled by the dosing unit. For that, the analyzing service in PEA3 measures the pH value and controls the flow from the tank (PEA2) into the reactor (PEA1). </p> Figure 1 - PEA-spanning reference example of aneutralization service consisting of three PEAs  and its four services"},{"location":"publications/appendix_etfa2021/#automation-services-profiles","title":"Automation Services Profiles","text":"<p>PEA 1 - Stirring Service This service represents a phase service to stir the liquid inside the reactor. A agitator with a stirring drive is controlled via his frequency converter which is controlled and monitored by the integrated service logic. </p> Class Component Procedure Stirring (1, NSC) Procedure Parameter Speed (REAL) <p>PEA 1 - Filling Service This service represents a control module service to open the inlet pipeline to the reactor of the PEA. For operational safety reasons, the standard demands that each PEA protects itself. This service logic just open the inlet valve when its executed, otherwise the valve is closed.</p> Class Component Procedure Activate (1, NSC) Process Value Output ValveOpen (BOOL) MaxLevel (BOOL) <p>PEA 2 - Dosing Service This service represents an equipment module service that encapsulates the flow-control of the stored liquid of its storage tank. The outlet pipeline is closed with a binary valve. The integrated flow control loop is realized by a flow indicator, a PID controller which controls a flow pump. As protection regarding dry-pumping a level indication is also included (not shown in figure 1).</p> Class Component Procedure Dosing with external Setpoint (5, NSC) Configuration Parameter PID-MODE (DINT)P-Part (REAL)I-Part (REAL)D-Part (REAL) Process Value Inputs FlowSP (REAL) PumpLock (BOOL) Report Values FlowSP (REAL)FlowPV (REAL) <p>PEA 3 - Analyzing Service This service represents a control module service that encapsulates the pH value measurement functionality. In addition, the service also provides an integrated PID controller to transform the measured pH value into a flow setpoint for a dosing service.</p> Class Component Procedure Neutralization (2, SC) Procedure Parameter pHSetpoint (REAL) Configuration Parameter PID-MODE (DINT)P-Part (REAL)I-Part (REAL)D-Part (REAL) Process Value Outputs pHValue (REAL)FlowSP (REAL) Report Values phValue (REAL)FlowSP (REAL)"},{"location":"publications/appendix_etfa2021/#associated-automation-service-functionality","title":"Associated Automation Service Functionality","text":"<p>An automation functionality, in my investigations, is differentiated into three level of automation logic - procedural, regulatory and interlocking logic parts. </p> <p>Interlocking Logic Parts Interlocking relationships are required for operational safety. The process value outputs of the Filling Service (PEA1) contain the position of the inlet valve as well as the limit switch of the tank, that is used as OR-processed input at the dosing service (PEA2). This input represents the interlock signal of the pump control. If the valve is closed for any reason or the limit switch is tripped, the pump is stopped immediately via its interlock mechanism. This mechanism bases on continuous value processing. The interlocking logic relation is given in table 1.</p> Information Source(Observed Service) Information Sink(Observing Service) PEA1.Filling.ValveOpen OR NOT PEA1.Filling.MaxLevel PEA2.Dosing.PumpLock <p>Table 1 - Choreography relation rule for the interlocking logic part</p> <p>Regulatory Logic Parts Continuous value processing is also used for the regulatory relations. By starting the analyzing service (PEA3), the pH value is measured continuously and processed by a pH controller. The controller calculates the flow setpoint that is read by the dosing service (PEA2). The external flow setpoint is used to regulate the flow from PEA2 to the PEA1. The output of the pH controller is specified in ml/min. The dosing service requires the setpoint in l/min. Due to these different units, the value must be converted between the pH controller and the flow controller. The only relation for the regulatory logic part is given in table 2.</p> Information Source(Observed Service) Information Sink(Observing Service) PEA3.Analyzing.FlowSP * [1000] PEA2.Dosing.FlowSP <p>Table 2 - Choreography relation rule for the regulatory logic part</p> <p>Procedural Logic Parts Procedural relations are defined on the basis of if-then rules. If the analyzing service (PEA3) is starting, then the filling service (PEA1) starts. With the filling service the stirring service (PEA1) and the dosing service (PEA2) will start. For this, the filling service (PEA1) reads the current state of the analyzing service (PEA3) and the dosing service (PEA2) and the stirring serice (PEA1) read the state from the filling service. By defining multiple if-then rules between the services of the PEAs, a defined order of procedural actions as well as defined reactions in case of exceptions are created. The full list of if-then rules for this example is listed in table 3.</p> Information Source(Observed Service) Information Sink(Observing Service) Relation Group PEA3-PEA1 PEA3.Analyzing.StateCur ? Starting PEA1.Filling.CommandInt = Start PEA3.Analyzing.StateCur ? Completing PEA1.Filling.CommandInt = Complete PEA3.Analyzing.StateCur ? Resetting PEA1.Filling.CommandInt = Reset PEA3.Analyzing.StateCur ? Pausing PEA1.Filling.CommandInt = Pause PEA3.Analyzing.StateCur ? Resuming PEA1.Filling.CommandInt = Resume PEA3.Analyzing.StateCur ? Holding PEA1.Filling.CommandInt = Hold PEA3.Analyzing.StateCur ? Unholding PEA1.Filling.CommandInt = Unhold PEA3.Analyzing.StateCur ? Stopping PEA1.Filling.CommandInt = Stop PEA3.Analyzing.StateCur ? Aborting PEA1.Filling.CommandInt = Abort Relation Group PEA1-PEA1 PEA1.Filling.StateCur ? Starting PEA1.Stirring.CommandInt = Start PEA1.Filling.StateCur ? Completing PEA1.Stirring.CommandInt = Complete PEA1.Filling.StateCur ? Resetting PEA1.Stirring.CommandInt = Reset PEA1.Filling.StateCur ? Stopping PEA1.Stirring.CommandInt = Stop PEA1.Filling.StateCur ? Aborting PEA1.Stirring.CommandInt = Abort Relation Group PEA1-PEA2 PEA1.Filling.StateCur ? Starting PEA2.Dosing.CommandInt = Start PEA1.Filling.StateCur ? Completing PEA2.Dosing.CommandInt = Complete PEA1.Filling.StateCur ? Resetting PEA2.Dosing.CommandInt = Reset PEA1.Filling.StateCur ? Pausing PEA2.Dosing.CommandInt = Pause PEA1.Filling.StateCur ? Resuming PEA2.Dosing.CommandInt = Resume PEA1.Filling.StateCur ? Holding PEA2.Dosing.CommandInt = Hold PEA1.Filling.StateCur ? Unholding PEA2.Dosing.CommandInt = Unhold PEA1.Filling.StateCur ? Stopping PEA2.Dosing.CommandInt = Stop PEA1.Filling.StateCur ? Aborting PEA2.Dosing.CommandInt = Abort <p>Table 3 - Choreography relation rule for the procedural logic part</p> Description of the short notation of observed and observig entities \\.\\.\\ PEA: Name / Identifier of the PEA Service: Name / Identifier of the Service Information: Name / Identifier of the observed Information"},{"location":"publications/publications/","title":"Publications","text":"<p>This list provides an overview of publications which are aligned with the PhD thesis of this Github repository.</p>"},{"location":"publications/publications/#decentralized-communication-architecture-for-direct-module-module-interaction-based-on-standardized-elements-of-vdivdenamur-2658","title":"Decentralized Communication Architecture for direct Module-Module-Interaction based on standardized elements of VDI/VDE/Namur 2658","text":"<p>Title: Decentralized Communication Architecture for direct Module-Module-Interaction based on standardized elements of VDI/VDE/Namur 2658 Authors: Andreas Stutz, Mathias Maurmaier Conference: AUTOMATION 2019 DOI: 10.51202/9783181023990-651 Research Gate: Link </p>"},{"location":"publications/publications/#choreographies-in-microservice-based-automation-architectures-next-level-of-flexibility-for-industrial-cyber-physical-systems","title":"Choreographies in Microservice-Based Automation Architectures - Next Level of Flexibility for Industrial Cyber-Physical Systems","text":"<p>Title: Choreographies in Microservice-Based Automation Architectures - Next Level of Flexibility for Industrial Cyber-Physical Systems Authors: Andreas Stutz, Mathias Maurmaier, Mike Barth, Alexander Fay Conference: 3rd IEEE International Conference on Industrial Cyber-Physical Systems DOI: 10.1109/ICPS48405.2020.9274719 Research Gate: Link </p>"},{"location":"publications/publications/#orchestration-vs-choreography-functional-association-for-future-automation-systems","title":"Orchestration vs. Choreography - Functional Association for Future Automation Systems","text":"<p>Title: Orchestration vs. Choreography - Functional Association for Future Automation Systems Authors: Andreas Stutz, Mathias Maurmaier, Mike Barth, Alexander Fay Conference: 1st Virtual IFAC World Congress (IFAC-V 2020) DOI: 10.1016/j.ifacol.2020.12.1961 Research Gate: Link </p>"},{"location":"publications/publications/#software-patterns-for-the-realization-of-automation-service-choreographies","title":"Software Patterns for the Realization of Automation Service Choreographies","text":"<p>Title: Software Patterns for the Realization of Automation Service Choreographies Authors: Andreas Stutz, Mathias Maurmaier, Mike Barth, Alexander Fay Conference: 26th International Conference on Emerging Technologies and Factory DOI: 10.1109/ETFA45728.2021.9613201 Research Gate: Link </p>"},{"location":"publications/publications/#konfigurierbare-controller-controller-kommunikation-fur-modulare-produktionssysteme","title":"Konfigurierbare Controller-Controller-Kommunikation f\u00fcr modulare Produktionssysteme","text":"<p>Title: Konfigurierbare Controller-Controller-Kommunikation f\u00fcr modulare Produktionssysteme Authors: Andreas Stutz, Tim Kempin, Mathias Maurmaier, Michelle Blumenstein, Alexander Fay Conference: AUTOMATION 2022 DOI: 10.51202/9783181023990-651 Research Gate: Link </p>"},{"location":"publications/publications/#coordination-of-modular-packaging-lines-using-automation-service-choreographies","title":"Coordination of Modular Packaging Lines Using Automation Service Choreographies","text":"<p>Title: Coordination of Modular Packaging Lines Using Automation Service Choreographies Authors: Michelle Blumenstein, Andreas Stutz, Mathias Maurmaier, Mike Barth, Alexander Fay Conference: AUTOMATION 2022 DOI: 10.1109/ETFA52439.2022.9921609 Research Gate: Link </p>"},{"location":"publications/publications/#anwendung-von-automatisierungsdienste-choreografien-zur-koordination-modularer-logistiklinien","title":"Anwendung von Automatisierungsdienste-Choreografien zur Koordination modularer Logistiklinien","text":"<p>Title: Anwendung von Automatisierungsdienste-Choreografien zur Koordination modularer Logistiklinien  Authors: Andreas Stutz, Michelle Blumenstein, Mathias Maurmaier, Mike Barth, Alexander Fay Conference: EKA \u2013 Entwurf komplexer Automatisierungssysteme  </p>"},{"location":"publications/publications/#opc-ua-fx-a-potential-cross-communication-solution-for-the-module-type-package-concept","title":"OPC UA FX \u2013 A Potential Cross Communication Solution for the Module Type Package Concept","text":"<p>Title: OPC UA FX \u2013 A Potential Cross Communication Solution for the Module Type Package Concept Authors: Andreas Stutz, Mathias Maurmaier, Georg Biehler, Michelle Blumenstein, Stephan Hoeme Conference: AUTOMATION 2022 DOI: 10.51202/9783181024195-215 Research Gate: Link </p>"},{"location":"publications/publications/#automatisierungsdienste-choreografien-in-der-prozessindustrie-evaluation-anhand-zweier-anwendungen-in-der-modularen-produktion","title":"Automatisierungsdienste-Choreografien in der Prozessindustrie: Evaluation anhand zweier Anwendungen in der modularen Produktion","text":"<p>Title: Automatisierungsdienste-Choreografien in der Prozessindustrie: Evaluation anhand zweier Anwendungen in der modularen Produktion Authors: Andreas Stutz, Michelle Blumenstein, Mathias Maurmaier, Manfred Eckert,  Mike Barth, Alexander Fay Journal: atp magazin 65(6-7):62-73 DOI: 10.17560/atp.v65i6-7.2665 Research Gate: Link </p>"}]}